@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===================================
   EXPRESS MODE - MODERN GLASSMORPHIC DESIGN
   =================================== */

:root {
  /* Brand Colors - Blue to Yellow Gradient */
  --primary-start: #1e40af;
  --primary-end: #3b82f6;
  --primary: #3b82f6;
  --primary-dark: #1d4ed8;
  --secondary-start: #fbbf24;
  --secondary-end: #fcd34d;
  --accent: #f59e0b;
  --success: #10b981;
  --error: #ef4444;
  --gray-50: #f8fafc;
  --error-dark: #b91c1c;
  --neutral: #e5e7eb;

  /* Text Colors - High Contrast */
  --text-primary: #0f172a; /* Slate-900 for primary text */
  --text-secondary: #475569; /* Slate-600 for secondary text */
  --text-tertiary: #64748b; /* Slate-500 for hints/placeholders */

  /* Glassmorphism */
  --glass-bg: rgba(255, 255, 255, 0.7);
  --glass-border: rgba(255, 255, 255, 0.18);
  --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
  --glass-backdrop: blur(20px);

  /* Dark Glass (for text on light bg) */
  --glass-dark-bg: rgba(15, 23, 42, 0.6);
  --glass-dark-border: rgba(15, 23, 42, 0.1);

  /* Spacing */
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.6rem;
  --spacing-md: 0.9rem;
  --spacing-lg: 1.3rem;
  --spacing-xl: 1.8rem;
  --spacing-2xl: 2.4rem;

  /* Border Radius */
  --radius-sm: 0.5rem;
  --radius-md: 1rem;
  --radius-lg: 1.5rem;
  --radius-xl: 2rem;
  --radius-full: 9999px;

  /* Typography */
  --font-display: "Poppins", sans-serif;
  --font-body: "Montserrat", sans-serif;
  --font-mono: "IBM Plex Mono", monospace;

  /* Animations */
  --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-base: 300ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-bounce: 600ms cubic-bezier(0.68, -0.55, 0.265, 1.55);

  /* iOS/Apple-inspired surface tokens */
  --ios-surface: #ffffff;
  --ios-surface-elevated: linear-gradient(180deg, #ffffff 0%, #f7f8fa 100%);
  --ios-hairline: rgba(60, 60, 67, 0.18);
  --ios-hairline-strong: rgba(60, 60, 67, 0.28);
  --ios-pill: rgba(0, 0, 0, 0.04);
  --ios-shadow: 0 8px 28px rgba(0, 0, 0, 0.08);
  --ios-shadow-hover: 0 12px 32px rgba(0, 0, 0, 0.12);
  --ios-blur: saturate(180%) blur(16px);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: var(--font-body);
  background: linear-gradient(135deg, #475569 0%, #334155 50%, #1e293b 100%);
  min-height: 100vh;
  overflow-x: hidden;
  color: #1e293b;
  position: relative;
  isolation: isolate;
}

@keyframes gradientShift {
  0%,
  100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

/* ===================================
   TOAST NOTIFICATIONS
   =================================== */

.toast {
  position: fixed;
  bottom: 24px;
  right: 24px;
  z-index: 800;
  min-width: 280px;
  max-width: 420px;
  padding: 16px 20px;
  background: var(--glass-bg);
  backdrop-filter: var(--glass-backdrop);
  border: 1px solid var(--glass-border);
  border-radius: 12px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  font-family: var(--font-body);
  font-size: 14px;
  font-weight: 500;
  color: white;
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  pointer-events: none;
}

.toast--show {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

.toast--error {
  background: linear-gradient(
    135deg,
    rgba(220, 38, 38, 0.9),
    rgba(185, 28, 28, 0.9)
  );
  border-color: rgba(239, 68, 68, 0.3);
}

.toast--success {
  background: linear-gradient(
    135deg,
    rgba(5, 150, 105, 0.9),
    rgba(4, 120, 87, 0.9)
  );
  border-color: rgba(16, 185, 129, 0.3);
}

.toast--warning {
  background: linear-gradient(
    135deg,
    rgba(245, 158, 11, 0.9),
    rgba(217, 119, 6, 0.9)
  );
  border-color: rgba(251, 191, 36, 0.3);
}

.toast--info {
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  border-color: rgba(99, 102, 241, 0.3);
}

/* Enhanced toast with action buttons */
.toast--with-actions {
  max-width: 500px;
  padding: 20px;
}

.toast__message {
  margin-bottom: 12px;
  white-space: pre-wrap;
  line-height: 1.5;
}

.toast__actions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-top: 12px;
}

.toast__action-btn {
  padding: 8px 16px;
  background: rgba(255, 255, 255, 0.2);
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: 6px;
  color: white;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  backdrop-filter: blur(10px);
}

.toast__action-btn:hover {
  background: rgba(255, 255, 255, 0.3);
  border-color: rgba(255, 255, 255, 0.5);
  transform: translateY(-1px);
}

.toast__action-btn:active {
  transform: translateY(0);
}

/* ===================================
   HERO SECTION
   =================================== */

.hero {
  position: relative;
  min-height: 30vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: var(--spacing-2xl) var(--spacing-md);
  overflow: hidden;
}

.hero__floating-shapes {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  pointer-events: none;
}

.floating-shape {
  position: absolute;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border-radius: 50%;
  animation: float 20s infinite ease-in-out;
}

.floating-shape:nth-child(1) {
  width: 300px;
  height: 300px;
  top: -100px;
  left: -100px;
  animation-delay: 0s;
}

.floating-shape:nth-child(2) {
  width: 200px;
  height: 200px;
  top: 50%;
  right: -50px;
  animation-delay: 7s;
}

.floating-shape:nth-child(3) {
  width: 150px;
  height: 150px;
  bottom: 20%;
  left: 10%;
  animation-delay: 3s;
}

@keyframes float {
  0%,
  100% {
    transform: translate(0, 0) rotate(0deg);
  }
  33% {
    transform: translate(30px, -30px) rotate(120deg);
  }
  66% {
    transform: translate(-20px, 20px) rotate(240deg);
  }
}

.hero__content {
  position: relative;
  z-index: 1;
  max-width: 800px;
}

/* Hero badge removed - logo now in header */

@keyframes pulse {
  0%,
  100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.1);
    opacity: 0.8;
  }
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.hero__title {
  font-family: var(--font-display);
  font-size: clamp(2.5rem, 5vw, 4rem);
  font-weight: 700;
  line-height: 1.1;
  margin-bottom: var(--spacing-md);
  background: linear-gradient(135deg, #1e293b 0%, #475569 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: slideUp 0.6s var(--transition-bounce) 0.1s backwards;
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.hero__subtitle {
  font-size: clamp(1.125rem, 2vw, 1.25rem);
  line-height: 1.6;
  color: #475569;
  margin-bottom: var(--spacing-xl);
  animation: slideUp 0.6s var(--transition-bounce) 0.2s backwards;
}

.hero__login-btn {
  position: absolute;
  top: var(--spacing-lg);
  right: var(--spacing-lg);
  z-index: 100;
  padding: var(--spacing-sm) var(--spacing-lg);
  background: var(--glass-bg);
  backdrop-filter: var(--glass-backdrop);
  border: 1px solid var(--glass-border);
  border-radius: var(--radius-full);
  font-family: var(--font-body);
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--primary-start);
  cursor: pointer;
  transition: all var(--transition-base);
  box-shadow: 0 2px 8px rgba(31, 38, 135, 0.1);
}

.hero__login-btn:hover {
  background: rgba(255, 255, 255, 0.9);
  box-shadow: 0 4px 16px rgba(31, 38, 135, 0.2);
  transform: translateY(-2px);
}

.hero__login-btn:active {
  transform: translateY(0);
}

/* ===================================
   WIZARD CONTAINER
   =================================== */

.wizard-container {
  max-width: 700px;
  margin: 0 auto;
  padding: 80px var(--spacing-md) var(--spacing-2xl);
  animation: fadeIn 0.6s var(--transition-base) 0.3s backwards;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Progress Bar */
.progress-bar {
  background: var(--glass-bg);
  backdrop-filter: var(--glass-backdrop);
  border: 1px solid var(--glass-border);
  border-radius: var(--radius-full);
  padding: var(--spacing-sm) var(--spacing-2xl);
  margin-bottom: var(--spacing-xl);
  box-shadow: var(--glass-shadow);
}

.progress-bar__steps {
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: relative;
}

.progress-bar__line {
  position: absolute;
  top: 50%;
  left: 48px;
  right: 48px;
  height: 3px;
  background: rgba(94, 150, 218, 0.5);
  transform: translateY(-260%);
  z-index: 0;
}

.progress-bar__line-fill {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  background: linear-gradient(90deg, var(--primary-start), var(--primary-end));
  border-radius: var(--radius-full);
  transition: width var(--transition-slow);
  box-shadow: 0 0 20px rgba(99, 102, 241, 0.5);
}

.progress-step {
  position: relative;
  z-index: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-xs);
  cursor: pointer;
  transition: transform var(--transition-fast);
}

.progress-step:hover {
  transform: scale(1.05);
}

.progress-step__circle {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: white;
  border: 3px solid rgba(203, 213, 225, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  font-size: 1rem;
  color: #4794ff;
  transition: all var(--transition-base);
}

.progress-step.active .progress-step__circle {
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  border-color: var(--primary-start);
  color: white;
  box-shadow: 0 8px 24px rgba(99, 102, 241, 0.4);
  animation: scaleIn 0.4s var(--transition-bounce);
}

.progress-step.completed .progress-step__circle {
  background: var(--success);
  border-color: var(--success);
  color: white;
}

@keyframes scaleIn {
  0% {
    transform: scale(0.8);
  }
  50% {
    transform: scale(1.1);
  }
  100% {
    transform: scale(1);
  }
}

.progress-step__label {
  font-size: 0.75rem;
  font-weight: 500;
  color: #64748b;
  text-align: center;
  transition: color var(--transition-base);
}

.progress-step.active .progress-step__label {
  color: var(--primary-start);
  font-weight: 600;
}

/* ===================================
   WIZARD CARD
   =================================== */

.wizard-card {
  background: var(--glass-bg);
  backdrop-filter: var(--glass-backdrop);
  border: 1px solid var(--glass-border);
  border-radius: var(--radius-xl);
  box-shadow: var(--glass-shadow);
  padding: var(--spacing-lg);
  min-height: 380px;
  position: relative;
  overflow: hidden;
}

.wizard-card::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(
    90deg,
    var(--primary-start),
    var(--primary-end),
    var(--secondary-start)
  );
  background-size: 200% 100%;
  animation: shimmer 3s linear infinite;
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

/* Step Content */
.wizard-step {
  display: none;
  animation: slideIn 0.4s var(--transition-base);
}

.wizard-step.active {
  display: block;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.step__header {
  margin-bottom: var(--spacing-lg);
}

.step__title {
  font-family: var(--font-display);
  font-size: 1.875rem;
  font-weight: 700;
  color: #1e293b;
  margin-bottom: var(--spacing-xs);
}

.step__description {
  font-size: 1rem;
  color: #64748b;
  line-height: 1.6;
}

/* Form Groups */
.form-group {
  margin-bottom: var(--spacing-md);
}

.form-label {
  display: block;
  font-weight: 600;
  color: #334155;
  margin-bottom: var(--spacing-xs);
  font-size: 0.875rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.form-input,
.form-select {
  width: 100%;
  padding: var(--spacing-md);
  background: rgba(255, 255, 255, 0.9);
  border: 2px solid rgba(203, 213, 225, 0.5);
  border-radius: var(--radius-md);
  font-family: IBM Plex Mono, monospace;
  font-size: 1rem;
  color: #5182d3;
  transition: all var(--transition-base);
  outline: none;
}

.form-input:focus,
.form-select:focus {
  border-color: var(--primary-start);
  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
  transform: translateY(-2px);
}

.form-input::placeholder {
  color: #4794ff;
}

.form-hint {
  display: block;
  font-size: 0.875rem;
  color: var(--text-tertiary);
  margin-top: var(--spacing-xs);
}

/* Input with Icon */
.input-with-icon {
  position: relative;
}

.input-with-icon__icon {
  position: absolute;
  left: var(--spacing-md);
  top: 50%;
  transform: translateY(-50%);
  width: 20px;
  height: 20px;
  color: var(--primary); /* match location icon token */
  pointer-events: none;
}

.input-with-icon .form-input {
  padding-left: calc(var(--spacing-md) * 2 + 20px);
}

/* Button Group */
.button-group {
  display: flex;
  gap: var(--spacing-sm);
  margin-top: var(--spacing-xl);
  padding-top: var(--spacing-xl);
  border-top: 1px solid rgba(203, 213, 225, 0.3);
}

.btn {
  flex: 1;
  padding: var(--spacing-md) var(--spacing-xl);
  border: none;
  border-radius: var(--radius-md);
  font-family: var(--font-body);
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all var(--transition-base);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-xs);
  outline: none;
  position: relative;
  overflow: hidden;
}

.btn::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.3);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.btn:active::before {
  width: 300px;
  height: 300px;
}

.btn-primary {
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  color: white;
  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
}

.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(99, 102, 241, 0.4);
}

.btn-primary:active {
  transform: translateY(0);
}

.btn-secondary {
  background: white;
  color: #64748b;
  border: 2px solid rgba(203, 213, 225, 0.5);
}

.btn-secondary:hover {
  background: rgba(248, 250, 252, 1);
  border-color: rgba(203, 213, 225, 0.8);
  transform: translateY(-2px);
}

.btn-success {
  background: linear-gradient(135deg, #10b981, #059669);
  color: white;
  border: none;
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

.btn-success:hover {
  background: linear-gradient(135deg, #059669, #047857);
  box-shadow: 0 6px 16px rgba(16, 185, 129, 0.4);
  transform: translateY(-2px);
}

.btn-success:active {
  transform: translateY(0);
}

.btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none !important;
}

/* === Vehicle Price & Condition Styling Fix === */
.vehicle-price {
  font-weight: 700;
  font-size: 1.1rem;
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  display: inline-block;
  margin-top: 2px;
}

.vehicle-condition {
  font-size: 0.85rem;
  color: var(--text-light);
  font-weight: 400;
  opacity: 0.6;
  margin-left: 4px;
}

.vehicle-subinfo {
  display: flex;
  gap: 6px;
  align-items: center;
  margin-top: 2px;
}

/* ===================================
   VIN AUTOCOMPLETE & SAVED VEHICLES
   =================================== */

.vin-autocomplete {
  position: relative;
}

/* VIN input fields should use monospace font for better readability */
#quick-vin,
#garageVin {
  font-family: var(--font-mono);
  letter-spacing: 0.5px;
}

.vin-loading {
  position: absolute;
  right: var(--spacing-md);
  top: 50%;
  transform: translateY(-50%);
  color: var(--primary-start);
  pointer-events: none;
}

.saved-vehicles-dropdown {
  position: absolute;
  top: calc(100% + 0.5rem);
  left: 0;
  right: 0;
  background: var(--ios-surface-elevated);
  border: 1px solid var(--ios-hairline);
  border-radius: 14px;
  box-shadow: var(--ios-shadow);
  max-height: 300px;
  overflow-y: auto;
  z-index: 200;
  animation: slideDown 0.2s var(--transition-base);
  backdrop-filter: var(--ios-blur);
}

.saved-vehicle-item {
  padding: var(--spacing-sm) var(--spacing-md);
  cursor: pointer;
  transition: background var(--transition-fast);
  border-bottom: 1px solid var(--ios-hairline);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--spacing-sm);
}

.saved-vehicle-item:last-child {
  border-bottom: none;
}

.saved-vehicle-item:hover {
  background: rgba(0, 0, 0, 0.04);
}

.saved-vehicle-item__content {
  flex: 1;
  cursor: pointer;
}

.saved-vehicle-item__header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 12px;
  margin-bottom: 0.5rem;
}

.saved-vehicle-item__title {
  font-weight: 600;
  color: #1e293b;
  flex: 1;
}

.saved-vehicle-item__details {
  font-size: 0.875rem;
  color: #64748b;
}

.saved-vehicle-item__vin {
  font-family: var(--font-mono);
  font-size: 0.75rem;
  color: #4794ff;
  margin-top: 0.25rem;
}

.btn-add-to-garage {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
  color: white;
  border: none;
  border-radius: var(--radius-sm);
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: all var(--transition-fast);
  flex-shrink: 0;
  box-shadow: 0 2px 8px rgba(99, 102, 241, 0.2);
  white-space: nowrap;
}

.btn-add-to-garage svg {
  flex-shrink: 0;
}

.btn-add-to-garage:hover {
  background: linear-gradient(135deg, #4f46e5 0%, #4338ca 100%);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
}

.btn-add-to-garage:active {
  transform: translateY(0);
  box-shadow: 0 2px 6px rgba(99, 102, 241, 0.2);
}

/* ===================================
   YOUR VEHICLE CARD
   =================================== */

.your-vehicle-section {
  margin-top: var(--spacing-xl);
  animation: slideIn 0.5s var(--transition-base);
}

.your-vehicle-card {
  position: relative;
  background: white;
  border: 2px solid rgba(203, 213, 225, 0.3);
  border-radius: var(--radius-lg);
  padding: var(--spacing-xl);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
  transition: all var(--transition-base);
  cursor: pointer;
}

.your-vehicle-card:hover {
  border-color: var(--primary-start);
  transform: translateY(-4px);
  box-shadow: 0 12px 32px rgba(59, 130, 246, 0.15);
}

.your-vehicle-card__badge {
  position: absolute;
  top: -10px;
  left: 50%;
  transform: translateX(-50%);
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 20px;
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  color: white;
  font-family: var(--font-heading);
  font-size: 0.875rem;
  font-weight: 700;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  border-radius: var(--radius-full);
  box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
  animation: pulse 2s ease-in-out infinite;
}

.your-vehicle-card__badge svg {
  width: 16px;
  height: 16px;
}

@keyframes pulse {
  0%,
  100% {
    box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
  }
  50% {
    box-shadow: 0 4px 25px rgba(59, 130, 246, 0.6);
  }
}

.your-vehicle-card__content {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
  margin-top: 8px;
}

.your-vehicle-card__image-container {
  width: 100%;
  max-width: 500px;
  height: 200px;
  margin: 0 auto;
  border-radius: var(--radius-lg);
  overflow: hidden;
  background: radial-gradient(ellipse at center, #ffffff 0%, #f1f5f9 100%);
  border: 2px solid rgba(59, 130, 246, 0.2);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1),
    inset 0 -15px 30px -15px rgba(0, 0, 0, 0.05);
}

.your-vehicle-card__image {
  width: 100%;
  height: 100%;
  object-fit: contain;
  padding: 16px;
  filter: brightness(1.05) contrast(1.08) saturate(1.12);
}

.your-vehicle-card__image-placeholder {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #4794ff;
}

.your-vehicle-card__image-placeholder svg {
  width: 64px;
  height: 64px;
}

.your-vehicle-card__title {
  font-family: var(--font-heading);
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--text-primary);
  text-align: center;
  margin-bottom: var(--spacing-sm);
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.your-vehicle-card__details {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

.your-vehicle-card__info-row {
  display: flex;
  justify-content: center;
  gap: var(--spacing-lg);
  flex-wrap: wrap;
}

.your-vehicle-card__info-inline {
  display: flex;
  align-items: baseline;
  gap: 6px;
}

.your-vehicle-card__info-inline .label {
  font-size: 0.875rem;
  color: var(--text-secondary);
  font-weight: 500;
}

.your-vehicle-card__info-inline .value {
  font-size: 1rem;
  color: var(--text-primary);
  font-weight: 600;
}

/* Animated background for tech financial vibe */
.bg-tech-grid {
  position: relative;
  isolation: isolate;
}

.bg-tech-grid::before,
.bg-tech-grid::after {
  content: "";
  position: absolute;
  inset: -8rem;
  z-index: 0;
  pointer-events: none;
}

.bg-tech-grid::before {
  background: radial-gradient(
      40% 40% at 22% 30%,
      rgba(59, 130, 246, 0.25),
      transparent
    ),
    radial-gradient(32% 32% at 78% 22%, rgba(14, 165, 233, 0.3), transparent),
    radial-gradient(48% 48% at 52% 74%, rgba(147, 197, 253, 0.2), transparent);
  filter: blur(45px);
  animation: bg-sway 22s linear infinite;
}

.bg-tech-grid::after {
  background-image: linear-gradient(
      90deg,
      rgba(148, 163, 184, 0.25) 1px,
      transparent 1px
    ),
    linear-gradient(0deg, rgba(148, 163, 184, 0.25) 1px, transparent 1px);
  background-size: 60px 60px, 60px 60px;
  mask: radial-gradient(
      circle at 25% 35%,
      rgba(255, 255, 255, 0.6) 0%,
      transparent 65%
    ),
    radial-gradient(
      circle at 70% 70%,
      rgba(255, 255, 255, 0.5) 0%,
      transparent 70%
    );
  animation: bg-grid-scroll 32s linear infinite;
}

.bg-tech-grid > * {
  position: relative;
  z-index: 1;
}

@keyframes bg-sway {
  0% {
    transform: translate3d(-12px, -10px, 0);
  }
  50% {
    transform: translate3d(14px, 16px, 0);
  }
  100% {
    transform: translate3d(-12px, -10px, 0);
  }
}

@keyframes bg-grid-scroll {
  0% {
    background-position: 0 0, 0 0;
  }
  100% {
    background-position: 120px 120px, 120px 120px;
  }
}

@media (prefers-reduced-motion: reduce) {
  .bg-tech-grid::before,
  .bg-tech-grid::after {
    animation: none;
  }
}

.your-vehicle-card__vin {
  text-align: center;
  font-size: 0.875rem;
  color: var(--text-secondary);
  font-family: var(--font-mono);
  letter-spacing: 0.5px;
  padding-top: var(--spacing-sm);
  border-top: 1px solid rgba(203, 213, 225, 0.3);
}

.your-vehicle-card__vin .label {
  font-weight: 600;
  margin-right: 6px;
}

.your-vehicle-card__smart-offer {
  position: relative;
  margin-top: var(--spacing-md);
  margin-bottom: var(--spacing-sm);
  padding: var(--spacing-lg) var(--spacing-md) var(--spacing-md);
  background: linear-gradient(
    135deg,
    rgba(16, 185, 129, 0.08),
    rgba(5, 150, 105, 0.08)
  );
  border: 2px solid rgba(16, 185, 129, 0.25);
  border-radius: var(--radius-md);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-xs);
  max-width: 350px;
  margin-left: auto;
  margin-right: auto;
}

.your-vehicle-card__smart-offer-badge {
  position: absolute;
  top: -22px;
  left: 50%;
  transform: translateX(-50%);
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 16px;
  background: linear-gradient(135deg, #10b981, #059669);
  color: white;
  font-size: 0.75rem;
  font-weight: 700;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
  clip-path: polygon(
    8px 0%,
    calc(100% - 8px) 0%,
    100% 50%,
    calc(100% - 8px) 100%,
    8px 100%,
    0% 50%
  );
}

.your-vehicle-card__smart-offer-badge svg {
  width: 14px;
  height: 14px;
}

.your-vehicle-card__smart-offer-value {
  font-size: 2.25rem;
  font-weight: 700;
  color: #059669;
  font-family: var(--font-heading);
  text-align: center;
  line-height: 1;
  margin-top: var(--spacing-xs);
}

.your-vehicle-card__smart-offer-text {
  font-size: 0.8125rem;
  color: var(--text-secondary);
  font-weight: 500;
  text-align: center;
}

/* Quick Entry vehicle card refresh */
.your-vehicle-card--quick {
  position: relative;
  --vehicle-accent: var(--primary-start);
  background: var(--ios-surface-elevated);
  border: 1px solid var(--ios-hairline);
  padding: var(--spacing-xl);
  border-radius: 24px;
  box-shadow: var(--ios-shadow);
  backdrop-filter: var(--ios-blur);
  transition: transform var(--transition-fast),
    box-shadow var(--transition-fast), border-color var(--transition-fast);
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", Inter,
    system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

.your-vehicle-card--quick:hover {
  transform: translateY(-4px);
  box-shadow: var(--ios-shadow-hover);
  border-color: var(--ios-hairline-strong);
}

.your-vehicle-card--quick::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  /* subtle top highlight */
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.6);
  z-index: 0;
}

.your-vehicle-card--quick::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  border-top-color: var(--vehicle-accent);
  opacity: 0.8;
  pointer-events: none;
  z-index: 0;
}

.your-vehicle-card--quick > * {
  position: relative;
  z-index: 1;
}
.your-vehicle-card--quick .your-vehicle-card__layout {
  display: flex;
  gap: var(--spacing-xl);
  flex-wrap: wrap;
  align-items: center;
}

.your-vehicle-card--quick .your-vehicle-card__media {
  flex: 0 0 240px;
  max-width: 240px;
  width: 100%;
  border-radius: 20px;
  padding: 12px;
  background: #f2f2f7;
  border: 1px solid var(--ios-hairline);
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Hide media container when there's no photo */
.your-vehicle-card--quick
  .your-vehicle-card__media:has(
    .your-vehicle-card__image-placeholder:only-child
  ) {
  display: none;
}

.your-vehicle-card--quick .your-vehicle-card__media img {
  width: 100%;
  height: 100%;
  border-radius: 18px;
}

.your-vehicle-card--quick .your-vehicle-card__body {
  flex: 1 1 260px;
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.your-vehicle-card--quick .your-vehicle-card__title-row {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
}

.your-vehicle-card--quick .your-vehicle-card__title {
  margin: 0;
  text-align: left;
  font-size: 1.45rem;
  letter-spacing: -0.01em;
  font-weight: 700;
  color: var(--text-primary);
  line-height: 1.45;
  flex: 1 1 auto;
}

.your-vehicle-card--quick .your-vehicle-card__price {
  font-size: 1.2rem;
  font-family: montserrat;
  font-weight: 700;
  color: var(--success);
  line-height: 1.45;
  white-space: nowrap;
  padding: 2px 12px;
  background-color: rgba(16, 185, 129, 0.1);
  border-radius: var(--radius-lg);
  margin: 0.2rem;
}

.your-vehicle-card--quick .your-vehicle-card__meta-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: var(--spacing-lg);
  align-items: stretch;
}

.your-vehicle-card--quick .your-vehicle-card__info-card {
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 14px 16px;
  border-radius: 16px;
  background: var(--ios-surface-elevated);
  border: 1px solid var(--ios-hairline);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.65);
  align-items: center;
  text-align: center;
}

.your-vehicle-card--quick .your-vehicle-card__info-label {
  font-size: 0.7rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: rgba(60, 60, 67, 0.6);
  font-weight: 700;
}

.your-vehicle-card--quick .your-vehicle-card__info-value {
  font-size: 1rem;
  font-weight: 700;
  color: #1e293b;
}

.your-vehicle-card--quick .your-vehicle-card__info-card--dealer {
  align-items: flex-start;
  text-align: left;
  gap: 6px;
}

.your-vehicle-card--quick .your-vehicle-card__info-value--dealer {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  width: 100%;
}

.your-vehicle-card__info-subtext {
  display: block;
  margin-top: 2px;
  font-size: 0.8rem;
  font-weight: 500;
  color: var(--text-secondary);
}

.your-vehicle-card__info-link {
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--primary-start);
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: 4px;
  margin-top: 4px;
}

.your-vehicle-card__info-link:hover {
  text-decoration: underline;
}

.your-vehicle-card--quick .your-vehicle-card__info-value--mono {
  font-family: var(--font-mono);
  font-size: 0.9rem;
  letter-spacing: 0.03em;
  color: #1e293b;
}

.your-vehicle-card--quick .your-vehicle-card__info-value--highlight {
  font-size: 1.375rem;
  color: var(--vehicle-accent);
}

.your-vehicle-card--quick .your-vehicle-card__info-value--placeholder {
  color: rgba(100, 116, 139, 0.7);
  font-weight: 500;
  font-size: 0.9rem;
}

.your-vehicle-card--quick .your-vehicle-card__distance-chip {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  border-radius: 999px;
  /* background: var(--ios-pill); */
  /* border: 1px solid var(--ios-hairline); */
  color: var(--vehicle-accent);
  font-size: 0.9rem;
  font-weight: 600;
  /* white-space: nowrap; */
}

.your-vehicle-card--quick .your-vehicle-card__distance-icon {
  font-size: 1rem;
}

.your-vehicle-card--quick .your-vehicle-card__distance-separator {
  width: 4px;
  height: 4px;
  border-radius: 999px;
  background: var(--primary-start);
  opacity: 0.4;
  flex-shrink: 0;
}

.your-vehicle-card--quick .your-vehicle-card__distance-miles,
.your-vehicle-card--quick .your-vehicle-card__distance-time {
  font-size: 0.8rem;
  font-weight: 600;
  color: var(--primary-start);
  white-space: nowrap;
}

.your-vehicle-card--quick .your-vehicle-card__info-hint {
  display: block;
  margin-top: 2px;
  font-size: 0.7rem;
  font-weight: 500;
  color: rgba(71, 85, 105, 0.6);
}

.your-vehicle-card--quick
  .your-vehicle-card__media
  .your-vehicle-card__image-placeholder {
  background: none;
  color: rgba(100, 116, 139, 0.7);
}

.your-vehicle-card--quick
  .your-vehicle-card__media
  .your-vehicle-card__image-placeholder
  svg {
  width: 48px;
  height: 48px;
}

.your-vehicle-card--quick
  .your-vehicle-card__info-value--placeholder
  + .your-vehicle-card__info-hint {
  display: none;
}

@media (max-width: 768px) {
  .your-vehicle-card__image-container {
    height: 180px;
  }

  .your-vehicle-card__title {
    font-size: 1.125rem;
  }

  .your-vehicle-card__info-row {
    flex-direction: column;
    gap: var(--spacing-sm);
  }

  .your-vehicle-card__smart-offer-value {
    font-size: 1.75rem;
  }

  .your-vehicle-card--quick {
    padding: var(--spacing-lg);
  }

  .your-vehicle-card--quick .your-vehicle-card__layout {
    flex-direction: column;
    align-items: stretch;
  }

  .your-vehicle-card--quick .your-vehicle-card__media {
    max-width: 100%;
  }

  .your-vehicle-card--quick .your-vehicle-card__title {
    font-size: 1.3rem;
  }
}

/* ===================================
   CHEAPER VEHICLE WARNING
   =================================== */

.cheaper-vehicle-warning {
  display: flex;
  gap: var(--spacing-md);
  align-items: flex-start;
  margin-top: var(--spacing-md);
  padding: var(--spacing-md);
  background: linear-gradient(
    135deg,
    rgba(245, 158, 11, 0.1),
    rgba(251, 191, 36, 0.05)
  );
  border: 2px solid rgba(245, 158, 11, 0.3);
  border-radius: var(--radius-md);
  animation: slideIn 0.5s var(--transition-base);
}

.cheaper-vehicle-warning__icon {
  flex-shrink: 0;
  width: 24px;
  height: 24px;
  color: #f59e0b;
}

.cheaper-vehicle-warning__icon svg {
  width: 100%;
  height: 100%;
}

.cheaper-vehicle-warning__content {
  flex: 1;
}

.cheaper-vehicle-warning__title {
  font-family: var(--font-heading);
  font-size: 0.875rem;
  font-weight: 700;
  color: #92400e;
  margin-bottom: 4px;
}

.cheaper-vehicle-warning__details {
  font-size: 0.8125rem;
  line-height: 1.5;
  color: #78350f;
}

.cheaper-vehicle-warning__details strong {
  font-weight: 700;
  color: #92400e;
}

.cheaper-vehicle-link {
  color: #2563eb;
  font-weight: 600;
  text-decoration: none;
  margin-left: 4px;
  transition: color var(--transition-base);
}

.cheaper-vehicle-link:hover {
  color: #1d4ed8;
  text-decoration: underline;
}

/* ===================================
   MANUAL VEHICLE PREVIEW
   =================================== */

.manual-vehicle-preview {
  margin-top: var(--spacing-xl);
  animation: slideIn 0.5s var(--transition-base);
}

.manual-preview-card {
  position: relative;
  background: white;
  border: 2px solid rgba(203, 213, 225, 0.3);
  border-radius: var(--radius-lg);
  padding: var(--spacing-xl);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
  transition: all var(--transition-base);
}

.manual-preview-card:hover {
  border-color: var(--primary-start);
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(59, 130, 246, 0.12);
}

.manual-preview__badge {
  position: absolute;
  top: -12px;
  left: 50%;
  transform: translateX(-50%);
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 20px;
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  color: white;
  font-family: var(--font-heading);
  font-size: 0.875rem;
  font-weight: 700;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  border-radius: var(--radius-full);
  box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
}

.manual-preview__badge svg {
  width: 16px;
  height: 16px;
}

.manual-preview__content {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
  margin-top: 8px;
}

.manual-preview__title {
  font-family: var(--font-heading);
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--text-primary);
  text-align: center;
  margin-bottom: var(--spacing-sm);
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.manual-preview__image-container {
  width: 100%;
  max-width: 500px;
  height: 200px;
  margin: 0 auto;
  border-radius: var(--radius-lg);
  overflow: hidden;
  background: linear-gradient(135deg, #f1f5f9, #e2e8f0);
  border: 2px solid rgba(59, 130, 246, 0.2);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.manual-preview__image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.manual-preview__image-placeholder {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #4794ff;
}

.manual-preview__image-placeholder svg {
  width: 64px;
  height: 64px;
}

.manual-preview__details {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-sm);
  margin-top: var(--spacing-md);
}

.manual-preview__info {
  display: flex;
  align-items: baseline;
  gap: 8px;
}

.manual-preview__info .label {
  font-size: 0.875rem;
  color: var(--text-secondary);
  font-weight: 500;
}

.manual-preview__info .value {
  font-size: 1.125rem;
  color: var(--text-primary);
  font-weight: 600;
}

.manual-preview__info .vin-value {
  font-family: var(--font-mono);
  letter-spacing: 0.5px;
  font-size: 0.8125rem;
}

.manual-preview__link-button {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-size: 0.875rem;
  font-weight: 600;
  color: white;
  text-decoration: none;
  margin-top: var(--spacing-md);
  padding: var(--spacing-sm) var(--spacing-lg);
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  border-radius: var(--radius-md);
  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
  transition: all var(--transition-base);
}

.manual-preview__link-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 16px rgba(59, 130, 246, 0.4);
}

.manual-preview__link-button svg {
  width: 16px;
  height: 16px;
}

/* ===================================
   TRIM MISMATCH WARNING
   =================================== */

.trim-mismatch-warning {
  display: flex;
  align-items: flex-start;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-md);
  margin-bottom: var(--spacing-md);
  background: linear-gradient(
    135deg,
    rgba(59, 130, 246, 0.1),
    rgba(96, 165, 250, 0.05)
  );
  border: 2px solid rgba(59, 130, 246, 0.3);
  border-radius: var(--radius-md);
  font-size: 0.875rem;
  line-height: 1.5;
  color: #1e40af;
}

.trim-mismatch-warning svg {
  flex-shrink: 0;
  width: 20px;
  height: 20px;
  color: #3b82f6;
  margin-top: 2px;
}

.trim-mismatch-warning strong {
  font-weight: 600;
  color: #1e3a8a;
}

/* ===================================
   NO LISTINGS MESSAGE
   =================================== */

.no-listings-message {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-lg);
  padding: var(--spacing-xl);
  text-align: center;
}

.no-listings-message__icon {
  width: 64px;
  height: 64px;
  color: #64748b;
  opacity: 0.6;
}

.no-listings-message__icon svg {
  width: 100%;
  height: 100%;
}

.no-listings-message__content {
  max-width: 500px;
}

.no-listings-message__title {
  font-family: var(--font-heading);
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: var(--spacing-sm);
}

.no-listings-message__text {
  font-size: 0.9375rem;
  line-height: 1.6;
  color: var(--text-secondary);
  margin-bottom: var(--spacing-lg);
}

.no-listings-message__text strong {
  color: var(--text-primary);
  font-weight: 600;
}

.no-listings-message__text ul {
  text-align: left;
  margin-top: var(--spacing-md);
  padding-left: var(--spacing-lg);
}

.no-listings-message__text li {
  margin-bottom: var(--spacing-xs);
}

.no-listings-message__button {
  padding: var(--spacing-sm) var(--spacing-xl);
  font-size: 0.9375rem;
  font-weight: 600;
  color: white;
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
  transition: all var(--transition-base);
}

.no-listings-message__button:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 16px rgba(59, 130, 246, 0.4);
}

/* ===================================
   SIMILAR VEHICLES SECTION
   =================================== */

.similar-vehicles-section {
  margin-top: var(--spacing-xl);
  padding-top: var(--spacing-xl);
  border-top: 2px dashed rgba(203, 213, 225, 0.3);
  animation: slideIn 0.4s var(--transition-base);
}

.similar-vehicles-header {
  margin-bottom: var(--spacing-md);
}

.similar-vehicles-title {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  font-family: var(--font-display);
  font-size: 1.25rem;
  font-weight: 700;
  color: #1e293b;
  margin-bottom: var(--spacing-xs);
}

.similar-vehicles-title svg {
  color: var(--success);
}

.similar-vehicles-subtitle {
  font-size: 0.875rem;
  color: #64748b;
}

.similar-vehicles-grid {
  display: flex;
  gap: var(--spacing-md);
  overflow-x: auto;
  overflow-y: hidden;
  padding-bottom: var(--spacing-sm);
  scroll-behavior: smooth;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
}

/* Custom scrollbar styling */
.similar-vehicles-grid::-webkit-scrollbar {
  height: 8px;
}

.similar-vehicles-grid::-webkit-scrollbar-track {
  background: rgba(203, 213, 225, 0.2);
  border-radius: var(--radius-full);
}

.similar-vehicles-grid::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  border-radius: var(--radius-full);
}

.similar-vehicles-grid::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, var(--primary-end), var(--secondary-end));
}

.vehicle-card {
  background: var(--ios-surface-elevated);
  border: 1px solid var(--ios-hairline);
  border-radius: 16px;
  padding: var(--spacing-md);
  cursor: pointer;
  transition: all var(--transition-base);
  position: relative;
  overflow: hidden;
  min-width: 280px;
  max-width: 300px;
  flex-shrink: 0;
  scroll-snap-align: start;
  box-shadow: var(--ios-shadow);
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", Inter,
    system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

.vehicle-card:hover {
  border-color: var(--ios-hairline-strong);
  transform: translateY(-3px);
  box-shadow: var(--ios-shadow-hover);
}

.vehicle-card.selected {
  border-color: var(--success);
  background: linear-gradient(180deg, #ffffff, #f5fff9);
}

.vehicle-card__badge {
  position: absolute;
  top: var(--spacing-sm);
  right: var(--spacing-sm);
  padding: 0.25rem 0.5rem;
  background: var(--primary-start);
  color: white;
  font-size: 0.75rem;
  font-weight: 600;
  border-radius: var(--radius-sm);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.vehicle-card__trim-badge {
  position: absolute;
  top: var(--spacing-sm);
  right: var(--spacing-sm);
  padding: 0.25rem 0.5rem;
  font-size: 0.75rem;
  font-weight: 600;
  border-radius: var(--radius-sm);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  z-index: 1;
}

.vehicle-card__trim-badge.exact {
  background: linear-gradient(135deg, #10b981, #059669);
  color: white;
  box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
}

.vehicle-card__trim-badge.similar {
  background: rgba(245, 158, 11, 0.15);
  color: #d97706;
  border: 1px solid rgba(245, 158, 11, 0.3);
}

.vehicle-card__image {
  width: 100%;
  height: 220px;
  object-fit: contain;
  border-radius: 12px;
  margin-bottom: var(--spacing-sm);
  background: #f2f2f7;
  padding: 16px;
  filter: brightness(1.03) contrast(1.05) saturate(1.06);
  transition: filter var(--transition-base), transform var(--transition-base);
  box-shadow: inset 0 -20px 40px -20px rgba(0, 0, 0, 0.05);
  border: 1px solid var(--ios-hairline);
}

.vehicle-card:hover .vehicle-card__image {
  filter: brightness(1.08) contrast(1.08) saturate(1.1);
  transform: scale(1.015);
}

.vehicle-card__title {
  font-weight: 700;
  color: #0f172a;
  margin-bottom: 0.25rem;
  font-size: 1rem;
  letter-spacing: -0.01em;
}

.vehicle-card__details {
  display: flex;
  gap: var(--spacing-sm);
  margin-bottom: var(--spacing-sm);
  font-size: 0.875rem;
  color: #6e6e73;
}

.vehicle-card__detail {
  display: flex;
  align-items: center;
  gap: 0.25rem;
}

.vehicle-card__detail svg {
  width: 14px;
  height: 14px;
}

.vehicle-card__price {
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--primary-start);
  margin-top: var(--spacing-xs);
}

.vehicle-card__location {
  font-size: 0.75rem;
  color: #4794ff;
  margin-top: 0.25rem;
}

.vehicle-card__vin,
.vehicle-vin {
  font-family: var(--font-mono);
  font-size: 0.75rem;
  color: #cbd5e1;
  margin-top: var(--spacing-xs);
  padding-top: var(--spacing-xs);
}

/* ===================================
   SELECTED VEHICLE DISPLAY
   =================================== */

.selected-vehicle-display {
  margin-top: var(--spacing-md);
  margin-bottom: var(--spacing-lg);
  animation: slideIn 0.3s var(--transition-base);
}

.selected-vehicle-card {
  display: flex;
  gap: var(--spacing-md);
  background: var(--ios-surface-elevated);
  backdrop-filter: var(--ios-blur);
  border: 1px solid var(--ios-hairline);
  border-radius: 20px;
  padding: var(--spacing-md);
  position: relative;
  box-shadow: var(--ios-shadow);
  overflow: hidden;
}

/* Gradient accent on left edge */
.selected-vehicle-card::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 4px;
  background: linear-gradient(180deg, var(--success), var(--secondary-start));
}

.selected-vehicle-card__image-container {
  flex-shrink: 0;
  width: 180px;
  height: 135px;
  background: #f2f2f7;
  border-radius: 14px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: inset 0 -15px 30px -15px rgba(0, 0, 0, 0.05);
  border: 1px solid var(--ios-hairline);
}

.selected-vehicle-card__image-container.no-image {
  background: linear-gradient(
    135deg,
    rgba(203, 213, 225, 0.3),
    rgba(226, 232, 240, 0.3)
  );
}

.selected-vehicle-card__image {
  width: 100%;
  height: 100%;
  object-fit: contain;
  padding: 12px;
  filter: brightness(1.05) contrast(1.08) saturate(1.12);
}

.selected-vehicle-card__image-placeholder {
  width: 60px;
  height: 60px;
  background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="%2394a3b8" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>')
    center/contain no-repeat;
}

.selected-vehicle-card__details {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
  min-width: 0;
}

.selected-vehicle-card__header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: var(--spacing-sm);
}

.selected-vehicle-card__title {
  font-family: var(--font-display);
  font-size: 1.25rem;
  font-weight: 700;
  color: #1e293b;
  line-height: 1.3;
}

.selected-vehicle-card__price {
  font-size: 1.25rem;
  font-weight: 800;
  color: var(--success);
  white-space: nowrap;
}

.selected-vehicle-card__info {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-md);
}

.selected-vehicle-card__info-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.875rem;
  color: #64748b;
}

.selected-vehicle-card__info-item svg {
  width: 18px;
  height: 18px;
  color: var(--success);
  flex-shrink: 0;
}

.selected-vehicle-card__badge {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.375rem 0.75rem;
  background: linear-gradient(135deg, var(--success), #059669);
  color: white;
  font-size: 0.75rem;
  font-weight: 600;
  border-radius: var(--radius-full);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  align-self: flex-start;
}

.selected-vehicle-card__change {
  position: absolute;
  top: var(--spacing-sm);
  right: var(--spacing-sm);
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: white;
  border: 2px solid rgba(203, 213, 225, 0.3);
  border-radius: var(--radius-full);
  cursor: pointer;
  transition: all var(--transition-base);
  color: #64748b;
}

.selected-vehicle-card__change:hover {
  border-color: var(--primary-start);
  color: var(--primary-start);
  transform: rotate(180deg);
  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.2);
}

.selected-vehicle-card__change svg {
  width: 20px;
  height: 20px;
}

/* Responsive design */
@media (max-width: 640px) {
  .selected-vehicle-card {
    flex-direction: column;
  }

  .selected-vehicle-card__image-container {
    width: 100%;
    height: 200px;
  }

  .selected-vehicle-card__header {
    flex-direction: column;
    align-items: flex-start;
  }

  .selected-vehicle-card__info {
    flex-direction: column;
    gap: var(--spacing-sm);
  }
}

.btn-change-vehicle {
  margin-top: var(--spacing-sm);
  padding: 0.5rem 1rem;
  background: white;
  border: 2px solid rgba(203, 213, 225, 0.5);
  border-radius: var(--radius-sm);
  font-size: 0.875rem;
  font-weight: 600;
  color: #64748b;
  cursor: pointer;
  transition: all var(--transition-base);
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.btn-change-vehicle:hover {
  border-color: var(--primary-start);
  color: var(--primary-start);
  transform: translateY(-1px);
}

/* ===================================
   SMART OFFER DISPLAY
   =================================== */

.smart-offer-display {
  margin-top: var(--spacing-md);
  animation: slideIn 0.3s var(--transition-base);
}

.smart-offer-card {
  background: linear-gradient(
    135deg,
    rgba(99, 102, 241, 0.1),
    rgba(139, 92, 246, 0.1)
  );
  border: 2px solid rgba(99, 102, 241, 0.3);
  border-radius: var(--radius-lg);
  padding: var(--spacing-md);
  position: relative;
}

.smart-offer-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  color: white;
  font-size: 0.875rem;
  font-weight: 700;
  border-radius: var(--radius-full);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: var(--spacing-md);
}

.smart-offer-recommendation {
  text-align: center;
  padding: var(--spacing-md) 0;
}

.smart-offer-label {
  font-size: 0.875rem;
  color: #64748b;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: 0.5rem;
}

.smart-offer-price {
  font-size: 2.5rem;
  font-weight: 800;
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 0.5rem;
}

.smart-offer-description {
  font-size: 0.875rem;
  color: #64748b;
  line-height: 1.6;
}

.smart-offer-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: var(--spacing-sm);
  margin-top: var(--spacing-md);
  padding-top: var(--spacing-md);
  border-top: 1px solid rgba(203, 213, 225, 0.3);
}

.smart-offer-stat {
  text-align: center;
  padding: var(--spacing-sm);
  background: white;
  border-radius: var(--radius-sm);
}

.smart-offer-stat-label {
  font-size: 0.75rem;
  color: #4794ff;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: 0.25rem;
}

.smart-offer-stat-value {
  font-size: 1.25rem;
  font-weight: 700;
  color: #1e293b;
}

.smart-offer-confidence {
  margin-top: var(--spacing-md);
  padding: var(--spacing-sm) var(--spacing-md);
  background: rgba(16, 185, 129, 0.1);
  border-left: 3px solid var(--success);
  border-radius: var(--radius-sm);
  font-size: 0.875rem;
  color: #0f172a;
  line-height: 1.6;
}

.smart-offer-confidence strong {
  color: var(--success);
  font-weight: 700;
}

/* ===================================
   MILEAGE IMPACT SECTION
   =================================== */

.mileage-impact-section {
  margin-top: var(--spacing-md);
  padding: var(--spacing-md);
  background: linear-gradient(
    135deg,
    rgba(59, 130, 246, 0.05),
    rgba(251, 191, 36, 0.05)
  );
  border: 2px solid rgba(59, 130, 246, 0.2);
  border-radius: var(--radius-lg);
}

.mileage-impact-header {
  display: flex;
  align-items: flex-start;
  gap: var(--spacing-sm);
  margin-bottom: var(--spacing-md);
}

.mileage-impact-title {
  font-family: var(--font-display);
  font-size: 1.125rem;
  font-weight: 700;
  color: #1e293b;
}

.mileage-impact-subtitle {
  font-size: 0.875rem;
  color: #64748b;
  margin-top: 0.25rem;
}

.mileage-impact-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: var(--spacing-sm);
  margin-bottom: var(--spacing-md);
}

.mileage-impact-stat {
  padding: var(--spacing-sm);
  background: white;
  border-radius: var(--radius-sm);
  text-align: center;
}

.mileage-impact-stat.highlight {
  background: linear-gradient(
    135deg,
    rgba(59, 130, 246, 0.1),
    rgba(251, 191, 36, 0.1)
  );
  border: 1px solid rgba(59, 130, 246, 0.3);
}

.mileage-impact-stat-label {
  font-size: 0.75rem;
  color: #4794ff;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: 0.25rem;
  font-weight: 600;
}

.mileage-impact-stat-value {
  font-size: 1.125rem;
  font-weight: 700;
  color: #1e293b;
}

.mileage-impact-explanation {
  padding: var(--spacing-sm) var(--spacing-md);
  background: white;
  border-radius: var(--radius-md);
  border-left: 3px solid var(--primary-start);
}

.mileage-correlation {
  display: inline-block;
  padding: 0.25rem 0.75rem;
  font-size: 0.75rem;
  font-weight: 600;
  border-radius: var(--radius-full);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: var(--spacing-sm);
}

.mileage-correlation.strong {
  background: linear-gradient(135deg, #10b981, #059669);
  color: white;
}

.mileage-correlation.moderate {
  background: rgba(245, 158, 11, 0.15);
  color: #d97706;
  border: 1px solid rgba(245, 158, 11, 0.3);
}

.mileage-impact-text {
  font-size: 0.875rem;
  color: #1e293b;
  line-height: 1.6;
}

/* Smart Offer Badges */
.smart-offer-badges {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-sm);
  margin-bottom: var(--spacing-md);
}

.confidence-badge,
.trim-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  font-size: 0.75rem;
  font-weight: 600;
  border-radius: var(--radius-full);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.confidence-badge .badge-icon {
  font-size: 1rem;
  font-weight: bold;
}

.confidence-high {
  background: linear-gradient(135deg, #10b981, #059669);
  color: white;
}

.confidence-medium {
  background: linear-gradient(135deg, #f59e0b, #d97706);
  color: white;
}

.confidence-low {
  background: linear-gradient(135deg, #ef4444, #dc2626);
  color: white;
}

.trim-exact {
  background: rgba(16, 185, 129, 0.15);
  color: #059669;
  border: 1px solid rgba(16, 185, 129, 0.3);
}

.trim-similar {
  background: rgba(245, 158, 11, 0.15);
  color: #d97706;
  border: 1px solid rgba(245, 158, 11, 0.3);
}

.trim-broad {
  background: rgba(239, 68, 68, 0.15);
  color: #dc2626;
  border: 1px solid rgba(239, 68, 68, 0.3);
}

/* Trim Warning */
.smart-offer-trim-warning {
  display: flex;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-md);
  background: rgba(245, 158, 11, 0.1);
  border-left: 3px solid #f59e0b;
  border-radius: var(--radius-sm);
  font-size: 0.875rem;
  color: #78350f;
  line-height: 1.6;
  margin-bottom: var(--spacing-md);
}

.smart-offer-trim-warning svg {
  color: #f59e0b;
  margin-top: 2px;
}

/* Insufficient Data Warning */
.smart-offer-warning {
  text-align: center;
  padding: var(--spacing-xl);
}

.smart-offer-warning-icon {
  color: #f59e0b;
  margin-bottom: var(--spacing-md);
}

.smart-offer-warning-title {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1e293b;
  margin-bottom: var(--spacing-sm);
}

.smart-offer-warning-text {
  font-size: 0.875rem;
  color: #64748b;
  line-height: 1.8;
  max-width: 600px;
  margin: 0 auto;
}

.smart-offer-warning-text strong {
  color: #1e293b;
  font-weight: 600;
}

/* ===================================
   VIN DISPLAY FORMATTING
   =================================== */

.vin-display,
.vehicle-card__vin,
.saved-vehicle-item__vin,
.vehicle-vin,
.selected-vehicle-info span[style*="font-family"] {
  font-family: var(--font-mono) !important;
  font-weight: 500;
  letter-spacing: 0.05em;
  font-size: 0.875rem;
  color: #64748b;
}

/* Ensure VIN input uses mono font */
#vin-input {
  font-family: var(--font-mono);
  letter-spacing: 0.05em;
  text-transform: uppercase;
}

/* ===================================
   UTILITY CLASSES
   =================================== */

.text-center {
  text-align: center;
}
.mt-sm {
  margin-top: var(--spacing-sm);
}
.mt-md {
  margin-top: var(--spacing-md);
}
.mb-md {
  margin-bottom: var(--spacing-md);
}

/* Responsive Design */
@media (max-width: 640px) {
  .hero {
    padding: var(--spacing-xl) var(--spacing-sm);
  }

  .hero__title {
    font-size: 2rem;
  }

  .wizard-card {
    padding: var(--spacing-md);
  }

  .progress-step__label {
    display: none;
  }

  .button-group {
    flex-direction: column;
  }
}

/* ============================================================================
   UNAVAILABLE VEHICLE MODAL
   ============================================================================ */

.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 500;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
  overflow-y: auto;
}

.modal-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(4px);
}

.modal-content {
  position: relative;
  background: white;
  border-radius: var(--radius-xl);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
  max-width: 500px;
  width: 90%;
  max-height: 90vh;
  overflow-y: auto;
  z-index: 600;
}

.modal-close {
  position: absolute;
  top: var(--spacing-md);
  right: var(--spacing-md);
  width: 40px;
  height: 40px;
  border-radius: var(--radius-full);
  border: none;
  background: rgba(148, 163, 184, 0.1);
  color: var(--text-secondary);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all var(--transition-base);
  z-index: 700;
}

.modal-close:hover {
  background: rgba(148, 163, 184, 0.2);
  color: var(--text-primary);
  transform: rotate(90deg);
}

.unavailable-vehicle-modal {
  padding: var(--spacing-2xl);
  text-align: center;
}

.unavailable-vehicle-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto var(--spacing-lg);
  width: 96px;
  height: 96px;
  border-radius: var(--radius-full);
  background: linear-gradient(
    135deg,
    rgba(239, 68, 68, 0.1),
    rgba(220, 38, 38, 0.1)
  );
  color: #ef4444;
}

.unavailable-vehicle-title {
  font-family: var(--font-heading);
  font-size: 24px;
  font-weight: 700;
  color: var(--text-primary);
  margin: 0 0 var(--spacing-md);
}

.unavailable-vehicle-message {
  color: var(--text-secondary);
  margin-bottom: var(--spacing-xl);
  line-height: 1.6;
}

.unavailable-vehicle-message p {
  margin: 0 0 var(--spacing-md);
}

.unavailable-vehicle-details {
  background: var(--glass-bg);
  border: 1px solid rgba(148, 163, 184, 0.2);
  border-radius: var(--radius-md);
  padding: var(--spacing-md);
  margin-top: var(--spacing-md);
  text-align: left;
}

.unavailable-vehicle-details strong {
  color: var(--text-primary);
  display: block;
  margin-bottom: var(--spacing-xs);
}

.unavailable-vehicle-details .vehicle-info {
  font-family: var(--font-mono);
  font-size: 14px;
  color: var(--text-secondary);
  margin: 4px 0;
}

.unavailable-vehicle-actions {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

.btn-danger {
  background: linear-gradient(135deg, #ef4444, #dc2626);
  color: white;
  border: none;
}

.btn-danger:hover {
  background: linear-gradient(135deg, #dc2626, #b91c1c);
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(239, 68, 68, 0.3);
}

.btn-secondary {
  background: rgba(148, 163, 184, 0.1);
  color: var(--text-secondary);
  border: 1px solid rgba(148, 163, 184, 0.3);
}

.btn-secondary:hover {
  background: rgba(148, 163, 184, 0.2);
  color: var(--text-primary);
}

@media (max-width: 640px) {
  .unavailable-vehicle-modal {
    padding: var(--spacing-xl);
  }

  .unavailable-vehicle-title {
    font-size: 20px;
  }
}

/* APR Confirmation Modal */
.apr-confirmation-modal {
  padding: var(--spacing-2xl);
  text-align: center;
  max-width: 480px;
  max-height: 90vh;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
}

.apr-confirmation-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto var(--spacing-lg);
  width: 80px;
  height: 80px;
  border-radius: var(--radius-full);
  background: linear-gradient(
    135deg,
    rgba(245, 158, 11, 0.1),
    rgba(217, 119, 6, 0.1)
  );
  color: #f59e0b;
}

.apr-confirmation-title {
  font-family: var(--font-heading);
  font-size: 24px;
  font-weight: 700;
  color: var(--text-primary);
  margin: 0 0 var(--spacing-md);
}

.apr-confirmation-message {
  color: var(--text-secondary);
  margin-bottom: var(--spacing-lg);
  line-height: 1.6;
}

.apr-confirmation-details {
  background: var(--glass-bg);
  border: 1px solid rgba(148, 163, 184, 0.2);
  border-radius: var(--radius-md);
  padding: var(--spacing-md);
  margin-bottom: var(--spacing-xl);
}

.apr-detail-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-sm) 0;
}

.apr-detail-row:not(:last-child) {
  border-bottom: 1px solid rgba(148, 163, 184, 0.15);
}

.apr-detail-label {
  font-size: 14px;
  color: var(--text-secondary);
}

.apr-detail-value {
  font-family: var(--font-mono);
  font-size: 16px;
  font-weight: 600;
  color: var(--text-primary);
}

.apr-detail-diff {
  font-size: 15px;
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

.apr-detail-diff.positive {
  color: var(--success);
}

.apr-detail-diff.negative {
  color: var(--danger);
}

.apr-detail-diff.neutral {
  color: var(--text-secondary);
}

.apr-confirmation-buttons {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

.apr-confirmation-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-md) var(--spacing-lg);
  border-radius: var(--radius-md);
  font-family: var(--font-body);
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: all var(--transition-base);
  border: none;
}

.apr-confirmation-btn svg {
  flex-shrink: 0;
}

.apr-confirmation-btn--reset {
  background: rgba(148, 163, 184, 0.1);
  color: var(--text-secondary);
  border: 1px solid rgba(148, 163, 184, 0.3);
}

.apr-confirmation-btn--reset:hover {
  background: rgba(148, 163, 184, 0.2);
  color: var(--text-primary);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.apr-confirmation-btn--keep {
  background: linear-gradient(135deg, var(--primary), var(--primary-dark));
  color: white;
  -webkit-text-fill-color: currentColor;
  font-weight: 600;
}

.apr-confirmation-btn--keep:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3);
}

@media (max-width: 640px) {
  .apr-confirmation-modal {
    padding: var(--spacing-xl);
  }

  .apr-confirmation-title {
    font-size: 20px;
  }
}

/* ==========================================================================
   Review & TILA Disclosure Section
   ========================================================================== */

/* Snapshot summary */
.review-summary {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
  margin-bottom: var(--spacing-xl);
}

.review-summary__primary {
  background: linear-gradient(
    135deg,
    var(--primary) 0%,
    var(--primary-dark) 100%
  );
  border-radius: var(--radius-lg);
  padding: var(--spacing-xl) var(--spacing-2xl);
  color: white;
  box-shadow: var(--shadow-lg);
  text-align: center;
}

.review-summary__label {
  font-size: 12px;
  font-weight: 600;
  letter-spacing: 1px;
  text-transform: uppercase;
  opacity: 0.85;
  margin-bottom: var(--spacing-xs);
}

.review-summary__value {
  font-size: 42px;
  font-weight: 800;
  margin-bottom: var(--spacing-sm);
  text-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
}

.review-summary__meta {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-xs);
  font-size: 14px;
  font-weight: 600;
  letter-spacing: 0.5px;
  opacity: 0.9;
}

.review-summary__divider {
  font-weight: 400;
  opacity: 0.6;
}

.review-summary__grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: var(--spacing-lg);
}

.review-summary__card {
  background: rgba(255, 255, 255, 0.85);
  border: 1px solid rgba(148, 163, 184, 0.3);
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xs);
  box-shadow: var(--shadow-sm);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.review-summary__card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

.review-summary__card-label {
  font-size: 12px;
  font-weight: 600;
  color: var(--text-secondary);
  letter-spacing: 0.5px;
  text-transform: uppercase;
}

.review-summary__card-value {
  font-size: 22px;
  font-weight: 700;
  color: var(--text-primary);
}

.review-summary__card-subvalue {
  font-size: 13px;
  font-weight: 600;
  color: var(--success);
}

.review-summary__card--highlight {
  border: 1px solid rgba(34, 197, 94, 0.4);
  background: linear-gradient(
    135deg,
    rgba(22, 163, 74, 0.08) 0%,
    rgba(16, 185, 129, 0.12) 100%
  );
}

@media (max-width: 768px) {
  .review-summary__primary {
    padding: var(--spacing-lg) var(--spacing-xl);
  }

  .review-summary__value {
    font-size: 34px;
  }
}

/* Lender Badge */
.review-lender-badge {
  background: linear-gradient(
    135deg,
    var(--success) 0%,
    var(--success-dark, #059669) 100%
  );
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  text-align: center;
  color: white;
  margin-bottom: var(--spacing-lg);
  box-shadow: var(--shadow-md);
}

.review-lender-badge__label {
  font-size: 11px;
  font-weight: 600;
  letter-spacing: 1px;
  text-transform: uppercase;
  opacity: 0.9;
  margin-bottom: var(--spacing-xs);
}

.review-lender-badge__name {
  font-size: 20px;
  font-weight: 700;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

/* Vehicle Hero */
.review-hero {
  background: linear-gradient(
    135deg,
    var(--primary) 0%,
    var(--primary-dark) 100%
  );
  border-radius: var(--radius-lg);
  padding: var(--spacing-2xl);
  text-align: center;
  color: white;
  margin-bottom: var(--spacing-xl);
  box-shadow: var(--shadow-lg);
}

.review-hero__label {
  font-size: 12px;
  font-weight: 600;
  letter-spacing: 1px;
  text-transform: uppercase;
  opacity: 0.9;
  margin-bottom: var(--spacing-sm);
}

.review-hero__vehicle {
  font-size: 24px;
  font-weight: 700;
  margin-bottom: var(--spacing-sm);
  line-height: 1.3;
}

.review-hero__vin {
  font-family: var(--font-mono);
  font-size: 14px;
  opacity: 0.8;
  margin-bottom: var(--spacing-md);
}

.review-hero__price {
  font-size: 36px;
  font-weight: 800;
  margin-top: var(--spacing-md);
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* TILA Disclosures */
.review-disclosures {
  background: var(--surface);
  border: 2px solid var(--primary);
  border-radius: var(--radius-lg);
  padding: var(--spacing-xl);
  margin-bottom: var(--spacing-xl);
}

.review-disclosures__header {
  text-align: center;
  margin-bottom: var(--spacing-lg);
}

.review-disclosures__header h5 {
  font-size: 18px;
  font-weight: 700;
  color: var(--text-primary);
  margin: 0 0 var(--spacing-sm) 0;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.review-disclosures__note {
  font-size: 11px;
  color: var(--text-secondary);
  font-style: italic;
  margin: 0;
}

.review-disclosures__grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: var(--spacing-md);
}

.disclosure-item {
  background: rgba(255, 255, 255, 0.5);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  padding: var(--spacing-md);
  text-align: center;
  transition: all 0.2s ease;
}

.disclosure-item:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
  border-color: var(--primary);
}

.disclosure-label {
  font-size: 11px;
  font-weight: 600;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  line-height: 1.3;
  margin-bottom: var(--spacing-sm);
  min-height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.disclosure-value {
  font-size: 22px;
  font-weight: 700;
  color: var(--primary);
  margin: var(--spacing-sm) 0;
}

.disclosure-note {
  font-size: 10px;
  color: var(--text-secondary);
  line-height: 1.3;
}

/* Review Sections */
.review-section {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  padding: var(--spacing-xl);
  margin-bottom: var(--spacing-xl);
}

.review-section__title {
  font-size: 16px;
  font-weight: 700;
  color: var(--text-primary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin: 0 0 var(--spacing-lg) 0;
  padding-bottom: var(--spacing-md);
  border-bottom: 2px solid var(--border);
}

/* Review Grid (for payment schedule) */
.review-grid {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.review-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-md);
  background: rgba(255, 255, 255, 0.5);
  border-radius: var(--radius-md);
  transition: background 0.2s ease;
}

.review-row:hover {
  background: rgba(255, 255, 255, 0.8);
}

.review-label {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-secondary);
}

.review-value {
  font-size: 16px;
  font-weight: 700;
  color: var(--text-primary);
}

/* Review Itemization */
.review-itemization {
  display: flex;
  flex-direction: column;
  gap: 0;
}

.review-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-sm) var(--spacing-md);
  border-bottom: 1px solid var(--border-light);
  transition: background 0.2s ease;
}

.review-item:hover {
  background: rgba(255, 255, 255, 0.5);
}

.review-item:last-child {
  border-bottom: none;
}

.review-item--bold {
  font-weight: 600;
}

.review-item--bold .review-label {
  color: var(--text-primary);
  font-weight: 700;
}

.review-item--bold .review-value {
  font-weight: 700;
}

.review-item--indent {
  padding-left: var(--spacing-2xl);
  background: rgba(148, 163, 184, 0.05);
}

.review-item--indent .review-label {
  font-size: 13px;
  font-weight: 500;
}

.review-item--indent .review-value {
  font-size: 14px;
  font-weight: 600;
}

.review-item--total {
  background: #2c3e50; /* Excel-style dark background */
  color: white;
  margin-top: var(--spacing-md);
  padding: var(--spacing-md);
  border-radius: var(--radius-md);
  border-bottom: none;
  border-top: 3px solid #34495e; /* Excel-style top border */
}

.review-item--total .review-label {
  color: white;
  font-size: 15px;
  font-weight: 700;
  letter-spacing: 0.5px;
}

.review-item--total .review-value {
  color: white;
  font-size: 18px;
  font-weight: 800;
}

.review-item--total:hover {
  background: #34495e; /* Slightly lighter on hover */
}

/* Cash Due Box */
.review-cash-due {
  background: var(--surface);
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  margin-bottom: var(--spacing-xl);
}

/* Simplified Cash Due for collapsible section */
.review-cash-due-simple {
  background: transparent;
  border-radius: 0;
  padding: 0;
  margin-bottom: 0;
}

.review-cash-due__row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-md);
  background: rgba(255, 255, 255, 0.5);
  border-radius: var(--radius-md);
  margin-bottom: var(--spacing-sm);
}

.review-cash-due__row:last-child {
  margin-bottom: 0;
}

.review-cash-due__label {
  font-size: 13px;
  font-weight: 700;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.review-cash-due__value {
  font-size: 22px;
  font-weight: 800;
  color: var(--danger);
}

.review-cash-due__value--positive {
  color: var(--success);
}

.review-net-note {
  background: rgba(148, 163, 184, 0.12);
  border-left: 4px solid var(--primary);
  border-radius: var(--radius-md);
  padding: var(--spacing-md) var(--spacing-lg);
  margin-bottom: var(--spacing-xl);
  display: none;
}

.review-net-note__label {
  font-size: 13px;
  letter-spacing: 0.75px;
  text-transform: uppercase;
  color: var(--text-secondary);
  margin-right: var(--spacing-sm);
}

.review-net-note__value {
  font-size: 18px;
  font-weight: 700;
  color: var(--text-primary);
  margin-right: var(--spacing-sm);
}

.review-net-note__explanation {
  font-size: 13px;
  margin: var(--spacing-xs) 0 0;
  color: var(--text-secondary);
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .review-hero {
    padding: var(--spacing-xl);
  }

  .review-hero__vehicle {
    font-size: 20px;
  }

  .review-hero__price {
    font-size: 28px;
  }

  .review-disclosures__grid {
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: var(--spacing-sm);
  }

  .disclosure-item {
    padding: var(--spacing-sm);
  }

  .disclosure-value {
    font-size: 18px;
  }

  .review-section {
    padding: var(--spacing-md);
  }

  .review-cash-due__value {
    font-size: 18px;
  }
}

@media (max-width: 640px) {
  .review-disclosures__grid {
    grid-template-columns: 1fr;
  }

  .review-item--indent {
    padding-left: var(--spacing-lg);
  }

  .review-label {
    font-size: 13px;
  }

  .review-value {
    font-size: 14px;
  }
}

/* ===========================
   COLLAPSIBLE REVIEW SECTIONS
   =========================== */

.review-collapsible {
  background: white;
  border-radius: var(--radius-lg);
  margin-bottom: var(--spacing-md);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  transition: all 0.2s ease;
}

.review-collapsible:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
}

.review-collapsible__header {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--spacing-lg);
  background: white;
  border: none;
  cursor: pointer;
  transition: all 0.2s ease;
  text-align: left;
}

.review-collapsible__header:hover {
  background: rgba(148, 163, 184, 0.05);
}

.review-collapsible__header.active {
  border-bottom: 1px solid var(--border);
}

.review-collapsible__title {
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex: 1;
  gap: var(--spacing-md);
}

.review-collapsible__title > span:first-child {
  font-size: 16px;
  font-weight: 700;
  color: var(--text-primary);
}

.review-collapsible__value {
  font-size: 18px;
  font-weight: 800;
  color: var(--primary);
  white-space: nowrap;
}

.review-collapsible__icon {
  flex-shrink: 0;
  margin-left: var(--spacing-md);
  transition: transform 0.3s ease;
  color: var(--text-secondary);
}

.review-collapsible__header.active .review-collapsible__icon {
  transform: rotate(180deg);
}

.review-collapsible__content {
  padding: var(--spacing-lg);
  border-top: 1px solid var(--border);
  display: none;
}

.review-collapsible__content.active {
  display: block;
}

/* Editable Review Value Input */
.review-item--editable {
  position: relative;
}

.review-value-input {
  background: white;
  border: 2px solid var(--primary);
  border-radius: var(--radius-md);
  padding: var(--spacing-sm) var(--spacing-md);
  font-size: 16px;
  font-weight: 700;
  color: var(--text-primary);
  font-family: "IBM Plex Mono", monospace;
  transition: all 0.2s ease;
  min-width: 150px;
  text-align: right;
}

.review-value-input:hover {
  border-color: var(--primary-dark);
  box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.1);
}

.review-value-input:focus {
  outline: none;
  border-color: var(--primary-dark);
  box-shadow: 0 0 0 4px rgba(14, 165, 233, 0.15);
}

/* Slider Controls */
.review-item--with-slider {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xs);
}

.review-item--with-slider .review-label {
  margin-bottom: var(--spacing-xs);
}

.review-slider-control {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
  width: 100%;
}

.review-slider {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 8px;
  border-radius: var(--radius-full);
  background: #e5e7eb;
  outline: none;
  transition: background 0.2s ease;
  cursor: pointer;
}

.review-slider::-webkit-slider-runnable-track {
  height: 8px;
  border-radius: var(--radius-full);
  background: transparent;
}

.review-slider::-moz-range-track {
  height: 8px;
  border-radius: var(--radius-full);
  background: transparent;
}

.review-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--primary) 0%, #0052a3 100%);
  border: 2px solid #ffffff;
  cursor: pointer;
  box-shadow: 0 3px 12px rgba(0, 0, 0, 0.25);
  transition: all 0.2s ease;
}

.review-slider::-moz-range-thumb {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--primary) 0%, #0052a3 100%);
  border: 2px solid #ffffff;
  cursor: pointer;
  box-shadow: 0 3px 12px rgba(0, 0, 0, 0.25);
  transition: all 0.2s ease;
}

.review-slider:active::-moz-range-thumb {
  box-shadow: 0 0 0 6px rgba(14, 165, 233, 0.2);
}

/* Firefox track */
.review-slider::-moz-range-track {
  height: 8px;
  border-radius: var(--radius-full);
  background: transparent;
}

/* Input field in slider control */
.review-slider-control .review-value-input {
  min-width: 120px;
  max-width: 150px;
  align-self: flex-end;
}

/* ===========================
   MODE TOGGLE
   =========================== */

.mode-toggle {
  display: flex;
  gap: var(--spacing-sm);
  justify-content: center;
  margin-bottom: var(--spacing-lg);
  padding: var(--spacing-sm);
  background: rgba(255, 255, 255, 0.6);
  border-radius: var(--radius-full);
  backdrop-filter: blur(10px);
}

.mode-toggle__btn {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-lg);
  background: white;
  border: 2px solid transparent;
  border-radius: var(--radius-full);
  font-size: 14px;
  font-weight: 600;
  color: var(--text-secondary);
  cursor: pointer;
  transition: all 0.3s ease;
}

.mode-toggle__btn:hover {
  color: var(--primary);
  background: rgba(14, 165, 233, 0.05);
}

.mode-toggle__btn.active {
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  color: white;
  border-color: var(--primary);
  box-shadow: 0 4px 12px rgba(14, 165, 233, 0.3);
}

.mode-toggle__btn svg {
  width: 18px;
  height: 18px;
}

/* ===========================
   QUICK ENTRY MODE
   =========================== */

.quick-entry-mode {
  position: relative;
  padding: var(--spacing-xl);
}

.quick-entry-grid {
  display: grid;
  grid-template-columns: minmax(0, 1fr);
  gap: var(--spacing-lg);
  align-items: start;
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  border-radius: var(--radius-xl);
  box-shadow: var(--glass-shadow);
  padding: var(--spacing-xl);
}

.quick-entry-inputs {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
}

@media (max-width: 960px) {
  .quick-entry-mode {
    padding-left: var(--spacing-xl);
  }
}

@media (max-width: 768px) {
  .quick-entry-mode {
    padding-left: var(--spacing-xl);
  }

  .quick-entry-grid {
    gap: var(--spacing-md);
  }
}

.quick-section {
  background: #f1f5f9;
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.quick-section__title {
  font-size: 18px;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: var(--spacing-md);
  padding-bottom: var(--spacing-sm);
  border-bottom: 2px solid var(--border);
}

.quick-entry-summary {
  position: relative;
}

.quick-summary-sticky {
  position: sticky;
  top: var(--spacing-lg);
  background: white;
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
  border: 2px solid var(--primary);
}

.quick-summary__title {
  font-size: 18px;
  font-weight: 700;
  color: var(--primary);
  margin-bottom: var(--spacing-md);
  text-align: center;
}

.quick-summary-content {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.quick-summary-hero {
  text-align: center;
  padding: var(--spacing-lg);
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  border-radius: var(--radius-lg);
  color: white;
}

.quick-summary-hero__label {
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 1px;
  opacity: 0.9;
  margin-bottom: var(--spacing-xs);
}

.quick-summary-hero__value {
  font-size: 36px;
  font-weight: 800;
  margin-bottom: var(--spacing-xs);
}

.quick-summary-hero__meta {
  font-size: 14px;
  opacity: 0.9;
}

.quick-summary-details {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

.quick-summary-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-sm);
  border-radius: var(--radius-md);
  background: rgba(148, 163, 184, 0.05);
  font-size: 14px;
}

.quick-summary-row span:first-child {
  color: var(--text-secondary);
  font-weight: 500;
}

.quick-summary-row span:last-child {
  font-weight: 700;
  color: var(--text-primary);
}

.quick-summary-row--highlight {
  background: rgba(14, 165, 233, 0.1);
  border: 1px solid var(--primary);
  padding: var(--spacing-md);
}

.quick-summary-row--highlight span:last-child {
  color: var(--primary);
  font-size: 18px;
}

.btn-block {
  width: 100%;
  justify-content: center;
}

/* Quick Entry TIL Disclosures */
.quick-til-disclosures {
  margin-top: var(--spacing-md);
  padding: var(--spacing-md);
  background: rgba(148, 163, 184, 0.05);
  border-radius: var(--radius-lg);
}

.quick-til-title {
  font-size: 14px;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: var(--spacing-md);
  text-align: center;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.quick-til-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--spacing-sm);
}

.quick-til-card {
  position: relative;
  background: white;
  padding: var(--spacing-md);
  border-radius: var(--radius-md);
  text-align: center;
  border: 1px solid var(--border);
}

.quick-til-label {
  font-size: 11px;
  font-weight: 600;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: var(--spacing-xs);
  line-height: 1.2;
}

.quick-til-value {
  font-size: 20px;
  font-weight: 800;
  color: var(--primary);
  margin-bottom: var(--spacing-xs);
  font-family: "IBM Plex Mono", monospace;
}

.quick-til-note {
  font-size: 10px;
  color: var(--text-secondary);
  line-height: 1.3;
}

.quick-til-value-with-note {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
}

.quick-til-format-note {
  font-size: 10px;
  line-height: 1;
  font-weight: 500;
  white-space: nowrap;
}

.quick-til-format-note.positive {
  color: var(--success); /* Green - good for buyer */
}

.quick-til-format-note.negative {
  color: var(--error); /* Red - bad for buyer */
}

.quick-til-diff {
  margin-top: 4px;
  font-size: 11px;
  font-weight: 600;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.quick-til-diff.positive {
  color: var(--success);
}

.quick-til-diff.negative {
  color: var(--error);
}

/* Editable APR with arrow controls */
.quick-til-value-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  margin-bottom: var(--spacing-xs);
}

.til-arrow {
  background: none;
  border: none;
  padding: 4px;
  cursor: pointer;
  color: var(--text-secondary);
  opacity: 0.5;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
}

.til-arrow:hover {
  opacity: 1;
  background: rgba(59, 130, 246, 0.1);
  color: var(--primary);
}

.til-arrow:active {
  transform: scale(0.9);
}

.til-arrow svg {
  display: block;
}

.til-editable {
  cursor: pointer;
  position: relative;
  padding: 2px 6px;
  border-radius: 4px;
  transition: all 0.2s ease;
}

.til-editable:hover {
  background: rgba(59, 130, 246, 0.05);
}

.til-editable:focus {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
  background: rgba(59, 130, 246, 0.05);
}

/* APR Tooltip */
.apr-tooltip {
  position: absolute;
  top: -8px;
  left: 50%;
  transform: translateX(-50%) translateY(-100%);
  z-index: 400;
  background: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(5px) saturate(180%);
  -webkit-backdrop-filter: blur(5px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.25);
  border-radius: 12px;
  padding: var(--spacing-sm) var(--spacing-md);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1), 0 2px 8px rgba(0, 0, 0, 0.05);
  pointer-events: none;
  min-width: 180px;
  text-align: center;
  animation: aprTooltipFadeIn 0.2s ease;
}

.apr-tooltip::after {
  content: "";
  position: absolute;
  bottom: -6px;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border-left: 6px solid transparent;
  border-right: 6px solid transparent;
  border-top: 6px solid rgba(255, 255, 255, 0.2);
}

@keyframes aprTooltipFadeIn {
  from {
    opacity: 0;
    transform: translateX(-50%) translateY(-90%);
  }
  to {
    opacity: 1;
    transform: translateX(-50%) translateY(-100%);
  }
}

.apr-tooltip__payment {
  font-size: 18px;
  font-weight: 700;
  color: #1e3a8a;
  font-family: "IBM Plex Mono", monospace;
  margin-bottom: 4px;
  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
}

.apr-tooltip__diff {
  font-size: 12px;
  font-weight: 600;
  font-family: "IBM Plex Mono", monospace;
  padding: 2px 8px;
  border-radius: 4px;
  display: inline-block;
  color: #ffffff;
}

.apr-tooltip__diff.positive {
  background: #10b981;
}

.apr-tooltip__diff.negative {
  background: #ef4444;
}

.apr-tooltip__diff.neutral {
  background: rgba(100, 116, 139, 0.6);
  color: rgba(255, 255, 255, 0.95);
}

/* Quick Entry Itemization */
/* Adjustments Section (Slider Controls) */
.adjust-numbers-card {
  background: #ffffff;
  border-radius: 16px;
  padding: 1.5rem;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);
  margin-top: 1.5rem;
}

.adjust-numbers-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--spacing-md);
  padding-bottom: var(--spacing-sm);
  border-bottom: 2px solid var(--border);
}

.adjust-numbers-header h3 {
  font-size: 18px;
  font-weight: 700;
  color: var(--text-primary);
  margin: 0;
}

.quick-adjustments-list {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.quick-adjustment {
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
  padding: 0.75rem 0.9rem;
  border-radius: var(--radius-md);
  background: rgba(148, 163, 184, 0.08);
  border: 1px solid rgba(148, 163, 184, 0.12);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* When any slider is hovered, blur all children in the list */
.quick-adjustments-list:has(.quick-adjustment:hover) > * {
  filter: blur(0.5px);
  opacity: 0.6;
  transform: scale(0.98);
}

/* Remove blur and enhance the hovered slider */
.quick-adjustment:hover {
  filter: blur(0px) !important;
  opacity: 1 !important;
  transform: scale(1.02) !important;
  background: #ffffff;
  border-color: rgba(14, 165, 233, 0.4);
  box-shadow: 0 8px 24px rgba(14, 165, 233, 0.15), 0 4px 8px rgba(0, 0, 0, 0.1);
  z-index: 100;
  position: relative;
}

.quick-adjustment-label {
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--text-primary);
  text-align: center;
}

/* Itemization Section (Calculation Breakdown) */
/* === Itemization Card === */
.itemization-card {
  background: #ffffff;
  border-radius: 16px;
  padding: 1.5rem;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);
  margin-top: 1.5rem;
}

.itemization-card h3 {
  font-size: 18px;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: var(--spacing-md);
  padding-bottom: var(--spacing-sm);
  border-bottom: 2px solid var(--border);
}

.itemization-content {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xs);
}

/* Legacy quick-itemization styles (for backward compatibility) */
.quick-itemization {
  margin-top: var(--spacing-md);
  background: white;
  border-radius: var(--radius-lg);
  padding: var(--spacing-md);
  border: 1px solid var(--border);
}

.quick-itemization-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--spacing-md);
  padding-bottom: var(--spacing-sm);
  border-bottom: 2px solid var(--border);
}

.quick-itemization-header h4 {
  font-size: 14px;
  font-weight: 700;
  color: var(--text-primary);
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.quick-itemization-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xs);
}

.quick-item,
.itemization-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.4rem 0;
  font-size: 0.95rem;
  line-height: 1.4;
  border-bottom: 1px solid var(--border);
}

.quick-item:last-child,
.itemization-row:last-child {
  border-bottom: none;
}

.quick-item-label,
.itemization-row .item-label {
  flex: 1;
  font-size: 13px;
  font-weight: 600;
  color: var(--text-primary);
  text-align: left;
  padding-left: 1rem;
  padding-right: 0;
  margin: 0;
}

.quick-item-value,
.itemization-row .item-value {
  flex: 0 0 110px;
  font-size: 14px;
  font-weight: 700;
  color: var(--text-primary);
  text-align: right;
  padding-left: 0;
  padding-right: 1rem;
  margin: 0;
  font-family: var(--font-mono);
  font-feature-settings: "tnum";
  font-variant-numeric: tabular-nums;
}

.itemization-row.nested .item-label {
  padding-left: 1.25rem;
}

.itemization-row.nested .item-value {
  padding-left: 0;
}

.quick-item--with-slider {
  flex-direction: column;
  align-items: stretch;
  padding: var(--spacing-md);
  background: rgba(14, 165, 233, 0.03);
  border: 1px solid rgba(14, 165, 233, 0.1);
  border-radius: var(--radius-md);
  gap: var(--spacing-sm);
}

.quick-item--with-slider .quick-item-label,
.quick-item--with-slider .quick-item-value {
  flex: initial;
}

.quick-item--indent .quick-item-label {
  padding-left: 2rem;
}

.quick-item--indent .quick-item-value {
  padding-right: 1rem;
}

.quick-item--less .quick-item-label,
.quick-item--plus .quick-item-label {
  font-weight: 700;
}

.quick-item--header {
  background: linear-gradient(
    135deg,
    rgba(59, 130, 246, 0.06),
    rgba(37, 99, 235, 0.03)
  );
  box-shadow: inset 3px 0 #3b82f6;
  padding: 0.4rem 0;
  margin: 2px 0;
}

.quick-item--header .quick-item-label,
.quick-item--header .quick-item-value {
  font-weight: 700;
}

.quick-item--subtotal {
  background: linear-gradient(
    135deg,
    rgba(251, 191, 36, 0.08),
    rgba(245, 158, 11, 0.05)
  );
  border: 1px solid rgba(251, 191, 36, 0.3);
  margin-top: var(--spacing-xs);
  padding: 0.4rem 0;
  border-radius: var(--radius-sm);
}

.quick-item--subtotal .quick-item-label,
.quick-item--subtotal .quick-item-value {
  font-weight: 700;
  color: #92400e;
}

.quick-item--total {
  background: #2c3e50;
  color: white;
  margin-top: var(--spacing-sm);
  padding: 0.4rem 0;
  border-top: 3px solid #34495e;
}

.quick-item--total .quick-item-label,
.quick-item--total .quick-item-value {
  color: white;
  font-weight: 800;
}

.quick-item--highlight {
  background: linear-gradient(135deg, #059669, #047857);
  color: white;
  padding: 0.4rem 0;
  border-radius: var(--radius-sm);
}

.quick-item--highlight .quick-item-label,
.quick-item--highlight .quick-item-value {
  color: white;
  font-weight: 700;
}

.quick-item--with-slider,
.quick-item--highlight,
.quick-item--subtotal,
.quick-item--total,
.quick-item--header {
  border-bottom: none;
}

.quick-slider-control {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
  width: 100%;
  margin-top: var(--spacing-xs);
}

.slider-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
  width: 100%;
}

.slider-row input[type="range"] {
  flex: 1 1 auto;
  min-width: 200px;
}

.slider-row .quick-value-wrapper {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
  gap: 0.5rem;
  flex-shrink: 0;
}

.slider-row .quick-value-input {
  width: 110px;
  text-align: right;
  font-feature-settings: "tnum";
  font-variant-numeric: tabular-nums;
}

.quick-slider {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 6px;
  border-radius: var(--radius-full);
  background: #e5e7eb;
  outline: none;
  cursor: pointer;
  transition: background 0.2s ease;
  margin-top: 0rem;
  margin-bottom: 0.3rem;
}

.quick-slider::-webkit-slider-runnable-track {
  height: 6px;
  border-radius: var(--radius-full);
  background: transparent;
}

.quick-slider::-moz-range-track {
  height: 6px;
  border-radius: var(--radius-full);
  background: transparent;
}

.quick-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--primary) 0%, #0052a3 100%);
  border: 2px solid #ffffff;
  cursor: pointer;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.25);
  transition: all 0.2s ease;
}

.quick-slider:hover::-webkit-slider-thumb {
  transform: scale(1.15);
  box-shadow: 0 4px 14px rgba(14, 165, 233, 0.45);
}

.quick-slider::-moz-range-thumb {
  width: 22px;
  height: 22px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--primary) 0%, #0052a3 100%);
  border: 2px solid #ffffff;
  cursor: pointer;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.25);
  transition: all 0.2s ease;
}

.quick-slider:hover::-moz-range-thumb {
  transform: scale(1.15);
  box-shadow: 0 4px 14px rgba(14, 165, 233, 0.45);
}

.quick-value-input {
  background: rgb(123, 213, 255, 0.1);
  border: 2px solid var(--primary);
  border-radius: var(--radius-md);
  padding: var(--spacing-xs) var(--spacing-sm);
  font-size: 14px;
  font-weight: 700;
  color: var(--text-primary);
  font-family: "IBM Plex Mono", monospace;
  text-align: right;
  transition: all 0.2s ease;
}

.quick-value-input:hover {
  border-color: var(--primary-dark);
  box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.1);
}

.quick-value-input:focus {
  outline: none;
  border-color: var(--primary-dark);
  box-shadow: 0 0 0 4px rgba(14, 165, 233, 0.15);
}

/* Quick Value Wrapper (contains input, diff, reset button) */
.quick-value-wrapper {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 0.4rem;
  position: relative;
}

.quick-value-wrapper .quick-value-input {
  width: 110px;
  text-align: right;
  font-feature-settings: "tnum";
  font-variant-numeric: tabular-nums;
}

/* Diff Indicator */
.quick-diff-indicator {
  font-size: 11px;
  font-weight: 600;
  font-family: "IBM Plex Mono", monospace;
  padding: 2px 6px;
  border-radius: 4px;
  text-align: right;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 6px;
}

.quick-diff-indicator .diff-text {
  flex: 1;
}

/* Buyer-positive: Green = good for buyer */
.quick-diff-indicator.positive {
  color: #059669;
  background: rgba(5, 150, 105, 0.1);
}

/* Buyer-negative: Red = bad for buyer */
.quick-diff-indicator.negative {
  color: #dc2626;
  background: rgba(220, 38, 38, 0.1);
}

/* Payment difference inline styles (always payment-centric) */
.payment-positive {
  color: #059669;
  font-weight: 700;
}

.payment-negative {
  color: #dc2626;
  font-weight: 700;
}

/* Reset Button */
.quick-reset-btn {
  position: static;
  width: 20px;
  height: 20px;
  min-width: 20px;
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid #cbd5e1;
  border-radius: 4px;
  cursor: pointer;
  font-size: 13px;
  line-height: 1;
  color: #64748b;
  transition: all 0.15s ease;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  flex-shrink: 0;
}

.quick-reset-btn:hover {
  background: #f1f5f9;
  color: #0ea5e9;
  border-color: #0ea5e9;
  transform: scale(1.1);
}

.quick-reset-btn:active {
  transform: scale(0.95);
}

/* Floating Payment Tooltip */
.slider-payment-tooltip {
  position: fixed;
  z-index: 400;
  background: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(2px) saturate(180%);
  -webkit-backdrop-filter: blur(2px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.25);
  border-radius: 12px;
  padding: var(--spacing-sm) var(--spacing-md);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1), 0 2px 8px rgba(0, 0, 0, 0.05);
  pointer-events: none;
  transform: translateX(-50%) translateY(-150%);
  min-width: 160px;
  text-align: center;
  animation: tooltipFadeIn 0.2s ease;
}

.slider-payment-tooltip::after {
  content: "";
  position: absolute;
  bottom: -6px;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border-left: 6px solid transparent;
  border-right: 6px solid transparent;
  border-top: 6px solid rgba(255, 255, 255, 0.2);
}

@keyframes tooltipFadeIn {
  from {
    opacity: 0;
    transform: translateX(-50%) translateY(-130%);
  }
  to {
    opacity: 1;
    transform: translateX(-50%) translateY(-150%);
  }
}

.tooltip-label {
  font-size: 11px;
  font-weight: 600;
  color: #64748b;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 4px;
}

.tooltip-payment {
  font-size: 18px;
  font-weight: 700;
  color: #1e3a8a;
  font-family: "IBM Plex Mono", monospace;
  margin-bottom: 2px;
  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
}

.tooltip-change {
  font-size: 12px;
  font-weight: 600;
  font-family: "IBM Plex Mono", monospace;
  padding: 2px 8px;
  border-radius: 4px;
  display: inline-block;
}

/* Tooltip: Buyer-positive = green (good for buyer, payment decreased) */
.tooltip-change.positive {
  color: #ffffff;
  background: #10b981;
}

/* Tooltip: Buyer-negative = red (bad for buyer, payment increased) */
.tooltip-change.negative {
  color: #ffffff;
  background: #ef4444;
}

.tooltip-change.neutral {
  color: rgba(255, 255, 255, 0.95);
  background: rgba(100, 116, 139, 0.6);
}

/* Hover state for slider sections (indicates keyboard control is active) */
.quick-item--with-slider:hover {
  background: rgba(59, 130, 246, 0.03);
  border-radius: var(--radius-sm);
  transition: background 0.2s ease;
}

.quick-item--with-slider:hover .quick-item-label::after {
  content: " ";
  font-size: 12px;
  opacity: 0.6;
  margin-left: 4px;
}

/* Focus state for slider sections (remove default outline, use same style as hover) */
.quick-item--with-slider:focus {
  outline: none;
  background: rgba(59, 130, 246, 0.03);
  border-radius: var(--radius-sm);
}

.quick-item--with-slider:focus .quick-item-label::after {
  content: " ";
  font-size: 12px;
  opacity: 0.6;
  margin-left: 4px;
}

/* Quick Entry Cash Due */
.quick-cash-due {
  margin-top: var(--spacing-md);
  padding: var(--spacing-lg);
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  border-radius: var(--radius-lg);
  text-align: center;
  color: white;
}

.quick-cash-due__label {
  font-size: 12px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
  opacity: 0.9;
  margin-bottom: var(--spacing-xs);
}

.quick-cash-due__value {
  font-size: 32px;
  font-weight: 800;
  font-family: "IBM Plex Mono", monospace;
}

/* Responsive */
@media (max-width: 1024px) {
  .quick-entry-grid {
    grid-template-columns: 1fr;
  }

  .quick-summary-sticky {
    position: static;
  }
}

@media (max-width: 640px) {
  .mode-toggle {
    flex-direction: column;
  }

  .mode-toggle__btn {
    width: 100%;
    justify-content: center;
  }
}

/* ===========================
   FEES MODAL
   =========================== */

.btn-edit-fees {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-xs);
  padding: var(--spacing-sm) var(--spacing-md);
  background: white;
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  font-size: 13px;
  font-weight: 600;
  color: var(--primary-start);
  -webkit-text-fill-color: currentColor;
  cursor: pointer;
  transition: all 0.2s ease;
}

.btn-edit-fees:hover {
  background: var(--gray-50);
  border-color: var(--primary);
  transform: translateY(-1px);
  box-shadow: var(--shadow-sm);
}

.btn-edit-fees svg {
  width: 14px;
  height: 14px;
}

/* Standalone variant with card-like appearance */
.btn-edit-fees-standalone {
  padding: 0.75rem 1.5rem;
  font-size: 14px;
  background: linear-gradient(135deg, #ffffff, #f8f9fa);
  border: 2px solid var(--border);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

.btn-edit-fees-standalone:hover {
  background: linear-gradient(135deg, #ffffff, #ffffff);
  border-color: var(--primary);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* Wrapper for standalone button - compensates for parent gap */
.btn-edit-fees-wrapper {
  display: flex;
  justify-content: flex-end;
  margin: -0.5rem 0 -0.5rem 0;
  padding: 0.5rem 0;
}

.btn-review-contract {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-sm);
  width: 100%;
  margin-top: var(--spacing-md);
  padding: var(--spacing-md) var(--spacing-lg);
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  border: 2px solid var(--primary-end);
  border-radius: var(--radius-md);
  font-size: 15px;
  font-weight: 700;
  color: white;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  cursor: pointer;
  transition: all var(--transition-base);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);
}

.btn-review-contract:hover {
  background: linear-gradient(135deg, var(--primary-end), var(--primary-start));
  border-color: var(--primary-start);
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(59, 130, 246, 0.35);
}

.btn-review-contract:active {
  transform: translateY(0);
  box-shadow: 0 2px 8px rgba(44, 62, 80, 0.3);
}

.btn-review-contract svg {
  width: 20px;
  height: 20px;
}

.fees-modal {
  background: white;
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  max-width: 600px;
  width: 90%;
  box-shadow: var(--shadow-xl);
}

.edit-fee-modal {
  background: white;
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  padding-bottom: var(--spacing-2xl);
  max-width: 420px;
  width: 90%;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
}

.modal-title {
  margin: 0 0 var(--spacing-sm) 0;
  font-size: 24px;
  font-weight: 700;
  color: var(--text);
}

.modal-description {
  margin: 0 0 var(--spacing-lg) 0;
  font-size: 14px;
  color: var(--text-light);
  line-height: 1.5;
}

.modal-toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--spacing-sm);
  margin-bottom: var(--spacing-md);
}

.modal-toolbar__action {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-xs);
  border: 1px solid rgba(59, 130, 246, 0.3);
  color: var(--primary-start);
  -webkit-text-fill-color: currentColor;
  background: rgba(59, 130, 246, 0.08);
  border-radius: var(--radius-md);
  padding: var(--spacing-xs) var(--spacing-sm);
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.modal-toolbar__action:hover {
  background: rgba(59, 130, 246, 0.15);
  border-color: rgba(59, 130, 246, 0.4);
}

.modal-toolbar__action svg {
  display: block;
}

.fees-modal-sections {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
  margin-bottom: var(--spacing-xl);
}

.fee-category {
  border: 1px solid rgba(148, 163, 184, 0.2);
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  background: rgba(248, 250, 252, 0.7);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.4);
}

.fee-category__header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: var(--spacing-lg);
  margin-bottom: var(--spacing-md);
}

.fee-category__heading h4 {
  margin: 0;
  font-size: 18px;
  font-weight: 700;
  color: var(--text);
}

.fee-category__hint {
  margin: var(--spacing-xs) 0 0;
  font-size: 13px;
  color: var(--text-secondary);
}

.fee-category__rows {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
  margin-bottom: var(--spacing-md);
}

.fee-row {
  display: grid;
  grid-template-columns: minmax(0, 1fr) 140px auto;
  gap: var(--spacing-sm);
  align-items: center;
}

.fee-row__desc input,
.fee-row__amount input {
  width: 100%;
}

.fee-row__actions {
  display: inline-flex;
  gap: var(--spacing-xs);
}

.fee-row__btn {
  width: 34px;
  height: 34px;
  border-radius: 50%;
  border: 1px solid rgba(100, 116, 139, 0.2);
  background: white;
  color: var(--text);
  font-size: 16px;
  font-weight: 700;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
}

.fee-row__btn:hover {
  background: rgba(59, 130, 246, 0.1);
  border-color: rgba(59, 130, 246, 0.4);
  color: var(--primary);
}

.fee-row__btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.fee-category__footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: var(--spacing-sm);
  border-top: 1px dashed rgba(148, 163, 184, 0.4);
  font-size: 14px;
  font-weight: 600;
  color: var(--text);
}

.fee-category__total {
  font-size: 18px;
  font-weight: 700;
  color: var(--text-primary);
}

.fees-tax-block {
  border: 1px solid rgba(59, 130, 246, 0.2);
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  background: rgba(59, 130, 246, 0.05);
}

.fees-tax-block__header {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xs);
  margin-bottom: var(--spacing-md);
}

.fees-tax-block__header h4 {
  margin: 0;
  font-size: 18px;
  font-weight: 700;
  color: var(--text);
}

.fees-tax-block__hint {
  margin: 0;
  font-size: 13px;
  color: var(--text-secondary);
}

.fees-tax-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: var(--spacing-sm) var(--spacing-lg);
  align-items: center;
}

.fees-tax-grid__label {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  font-weight: 600;
  color: var(--text);
}

.fees-tax-grid__value {
  font-size: 15px;
  font-weight: 600;
  color: var(--text);
  font-family: "IBM Plex Mono", monospace;
  text-align: right;
}

.form-input--readonly {
  background: rgba(148, 163, 184, 0.15);
  color: var(--text-secondary);
  cursor: not-allowed;
}

.tax-override-indicator {
  display: none;
  font-size: 12px;
  font-weight: 600;
  color: #92400e;
  background: #fef3c7;
  border-radius: 999px;
  padding: 2px 8px;
  line-height: 1.2;
  gap: 4px;
}

.tax-override-pill {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 11px;
  font-weight: 600;
  color: #92400e;
  background: #fef3c7;
  border-radius: 999px;
  padding: 2px 8px;
  margin-left: 6px;
}

.tax-override-indicator::before,
.tax-override-pill::before {
  content: "";
  font-size: 12px;
  margin-right: 4px;
}

.tax-default-hint {
  font-size: 10px;
  color: var(--text-secondary);
  margin-left: 4px;
}

.fees-summary {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xs);
  margin-top: var(--spacing-md);
  margin-bottom: var(--spacing-md);
}

.fees-summary__row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 14px;
  color: var(--text);
}

.fees-summary__row--highlight {
  font-weight: 700;
  color: var(--primary);
}

.fees-summary__value {
  font-weight: 700;
}

.fees-summary__link {
  font-size: 12px;
  color: var(--primary);
  text-decoration: underline;
  margin-top: var(--spacing-xs);
  align-self: flex-start;
}

.handshake-modal {
  max-width: 420px;
  padding: 32px;
  text-align: center;
}

.handshake-icon {
  width: 56px;
  height: 56px;
  margin: 0 auto 16px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 28px;
  color: white;
  background: linear-gradient(135deg, #2563eb, #1d4ed8);
}

.handshake-icon.handshake-icon--spinner {
  border: 4px solid rgba(37, 99, 235, 0.15);
  border-top-color: #2563eb;
  animation: handshakeSpin 1s linear infinite;
  background: transparent;
}

.handshake-icon.handshake-icon--success {
  background: linear-gradient(135deg, #10b981, #059669);
}

.handshake-icon.handshake-icon--error {
  background: linear-gradient(135deg, #ef4444, #b91c1c);
}

.handshake-title {
  margin: 0 0 8px;
  font-size: 20px;
  font-weight: 600;
  color: var(--text);
}

.handshake-message {
  margin: 0 0 20px;
  font-size: 14px;
  color: var(--text-secondary);
}

.handshake-progress {
  width: 100%;
  height: 6px;
  border-radius: 999px;
  background: rgba(148, 163, 184, 0.3);
  overflow: hidden;
  margin-bottom: 20px;
}

.handshake-progress__bar {
  width: 0%;
  height: 100%;
  border-radius: inherit;
  background: linear-gradient(135deg, #2563eb, #7c3aed);
  transition: width 0.3s ease;
}

.handshake-actions {
  display: flex;
  justify-content: center;
  gap: 12px;
  flex-wrap: wrap;
}

.handshake-actions .btn {
  min-width: 120px;
}

.modal--handshake .modal-overlay {
  cursor: default;
}

@keyframes handshakeSpin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.send-mode-modal__content {
  max-width: 420px;
  padding: 32px;
  text-align: center;
}

.send-mode-modal__icon {
  font-size: 40px;
  margin-bottom: 12px;
}

.send-mode-modal__title {
  margin: 0 0 8px;
  font-size: 20px;
  font-weight: 600;
  color: var(--text);
}

.send-mode-modal__message {
  font-size: 14px;
  color: var(--text-secondary);
  margin: 0 0 20px;
}

.send-mode-modal__actions {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  justify-content: center;
  margin-bottom: 16px;
}

.send-mode-modal__actions .btn {
  min-width: 150px;
}

.send-mode-modal__remember {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-size: 13px;
  color: var(--text-secondary);
}

.modal-status {
  margin: var(--spacing-sm) 0;
  font-size: 13px;
  min-height: 18px;
  color: var(--text-secondary);
}
.modal-status[data-tone="error"] {
  color: var(--danger);
}
.modal-status[data-tone="success"] {
  color: var(--success);
}

.edit-fee-form {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.edit-fee-form .button-group {
  justify-content: flex-end;
}

.button-group {
  display: flex;
  gap: var(--spacing-md);
  justify-content: flex-end;
}

.button-group button {
  padding: var(--spacing-md) var(--spacing-lg);
  border-radius: var(--radius-md);
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.2s ease;
  border: none;
}

.button-group button:first-child {
  background: #e5e7eb;
  color: #1f2937;
}

.button-group button:first-child:hover {
  background: #d1d5db;
}

.button-group button:last-child {
  background: linear-gradient(
    135deg,
    var(--primary-start) 0%,
    var(--primary-end) 100%
  );
  color: white;
  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
}

.button-group button:last-child:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 24px rgba(99, 102, 241, 0.4);
}

@media (max-width: 640px) {
  .fees-modal {
    padding: var(--spacing-lg);
    width: 95%;
  }

  .modal-toolbar {
    flex-direction: column;
    align-items: flex-start;
  }

  .edit-fee-modal {
    padding: var(--spacing-lg);
  }

  .fee-row {
    grid-template-columns: 1fr;
  }

  .fee-row__actions {
    justify-content: flex-end;
  }

  .button-group {
    flex-direction: column-reverse;
  }

  .button-group button {
    width: 100%;
  }
}

/* ===================================
   REVIEW CONTRACT MODAL
   =================================== */

.review-contract-modal {
  background: white;
  border-radius: var(--radius-md);
  padding: 0;
  max-width: 900px;
  width: 95%;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
}

.contract-document {
  padding: var(--spacing-2xl);
  font-family: var(--font-body);
  color: #1f2937;
  background: white;
}

/* Document header only (not table rows) */
div.contract-header {
  text-align: center;
  border-bottom: 2px solid #e5e7eb;
  padding-bottom: var(--spacing-lg);
  margin-bottom: var(--spacing-xl);
}

.contract-title {
  font-size: 24px;
  font-weight: 700;
  font-family: var(--font-display);
  letter-spacing: 0.5px;
  margin: 0 0 var(--spacing-sm) 0;
  text-transform: uppercase;
  color: #111827;
}

.contract-subtitle {
  font-size: 14px;
  margin: 0;
  font-weight: 500;
  font-family: var(--font-body);
  color: #6b7280;
}

.contract-til-box {
  border: 2px solid #d1d5db;
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  margin-bottom: var(--spacing-xl);
  background: linear-gradient(135deg, #f9fafb 0%, #ffffff 100%);
}

.contract-til-title {
  font-size: 16px;
  font-weight: 700;
  font-family: var(--font-display);
  text-align: center;
  margin: 0 0 var(--spacing-lg) 0;
  letter-spacing: 0.5px;
  color: #111827;
  text-transform: uppercase;
}

.contract-til-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--spacing-md);
}

.contract-til-item {
  border: 1px solid #e5e7eb;
  border-radius: var(--radius-md);
  padding: var(--spacing-md);
  text-align: center;
  background: white;
}

.contract-til-label {
  font-size: 11px;
  font-weight: 700;
  font-family: var(--font-body);
  text-transform: uppercase;
  margin-bottom: 4px;
  color: #6b7280;
  letter-spacing: 0.5px;
}

.contract-til-desc {
  font-size: 10px;
  margin-bottom: var(--spacing-xs);
  color: #9ca3af;
  font-family: var(--font-body);
}

.contract-til-value {
  font-size: 20px;
  font-weight: 700;
  font-family: var(--font-mono);
  color: #111827;
}

.contract-section {
  margin-bottom: var(--spacing-lg);
  page-break-inside: avoid;
}

.contract-section-title {
  font-size: 14px;
  font-weight: 700;
  font-family: var(--font-display);
  text-transform: uppercase;
  border-bottom: 2px solid #e5e7eb;
  padding-bottom: var(--spacing-xs);
  margin: 0 0 var(--spacing-md) 0;
  color: #111827;
  letter-spacing: 0.5px;
}

.contract-row {
  display: flex;
  justify-content: space-between;
  padding: var(--spacing-sm) 0;
  border-bottom: 1px solid #f3f4f6;
}

.contract-label {
  font-size: 13px;
  font-weight: 500;
  font-family: var(--font-body);
  color: #374151;
}

.contract-value {
  font-size: 13px;
  font-family: var(--font-mono);
  font-weight: 600;
  color: #111827;
}

.contract-vin {
  font-family: var(--font-mono);
  letter-spacing: 1px;
}

/* Trade-In Cards */
.contract-tradein-card {
  background: #f9fafb;
  border: 1px solid #e5e7eb;
  border-radius: var(--radius-md);
  padding: var(--spacing-md);
  margin-bottom: var(--spacing-md);
}

.contract-tradein-card:last-child {
  margin-bottom: 0;
}

.contract-tradein-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--spacing-sm);
  padding-bottom: var(--spacing-xs);
  border-bottom: 1px solid #d1d5db;
}

.contract-tradein-title {
  font-size: 13px;
  font-weight: 600;
  font-family: var(--font-display);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: #111827;
  margin: 0;
}

.contract-tradein-nickname {
  font-size: 12px;
  font-style: italic;
  color: #6b7280;
  font-family: var(--font-body);
}

.contract-vehicle-grid {
  display: flex;
  flex-direction: column;
  gap: 0;
}

.contract-vehicle-grid .contract-row {
  margin: 0;
}

.contract-highlight {
  background: rgba(59, 130, 246, 0.05);
  border-left: 3px solid var(--primary);
  padding-left: calc(var(--spacing-sm) + 3px) !important;
  font-weight: 600;
}

.contract-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: var(--spacing-md);
  border: 1px solid rgba(15, 23, 42, 0.08);
  border-radius: var(--radius-lg);
  overflow: hidden;
  background: rgba(255, 255, 255, 0.96);
  box-shadow: 0 24px 48px rgba(15, 23, 42, 0.08);
}

.contract-table tr {
  border-bottom: 1px solid rgba(15, 23, 42, 0.06);
}

.contract-table tr:last-child {
  border-bottom: none;
}

.contract-item-label {
  padding: 16px 24px;
  font-size: 15px;
  font-weight: 600;
  font-family: var(--font-body);
  letter-spacing: 0.01em;
  color: var(--text-primary);
  background: transparent;
  transition: background var(--transition-fast);
}

.contract-item-value {
  padding: 16px 24px;
  font-size: 16px;
  font-family: var(--font-mono);
  font-weight: 700;
  text-align: right;
  white-space: nowrap;
  color: var(--text-primary);
  background: transparent;
  letter-spacing: 0.01em;
}

.contract-indent {
  padding-left: 56px !important;
  font-size: 13px;
  font-weight: 500;
  color: var(--text-secondary);
}

.contract-indent2 {
  padding-left: 72px !important;
  font-size: 12px;
  font-style: italic;
  color: rgba(100, 116, 139, 0.95);
  background: rgba(148, 163, 184, 0.08) !important;
}

/* Main category rows - clean and bold */
tr.contract-header {
  background: rgba(226, 232, 240, 0.45) !important;
}

tr.contract-header .contract-item-label,
tr.contract-header .contract-item-value {
  font-weight: 700;
  font-size: 15px;
  color: var(--text-primary);
  padding: 18px 24px;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

/* Cash Due at Signing - subtle highlight */
.contract-subtotal {
  background: rgba(251, 191, 36, 0.15) !important;
  border-top: 2px solid #f97316;
  border-bottom: 2px solid #f97316;
}

.contract-subtotal .contract-item-label,
.contract-subtotal .contract-item-value {
  font-weight: 700;
  padding: 18px 24px;
  font-family: var(--font-body);
  color: #b45309;
  font-size: 16px;
  letter-spacing: 0.04em;
}

.contract-subtotal .contract-item-value {
  font-family: var(--font-mono);
}

/* Amount Financed - prominent total */
.contract-total {
  background: linear-gradient(135deg, #1e293b, #0f172a) !important;
  border-top: 2px solid #f97316;
  border-bottom: 2px solid #f97316;
  color: white;
}

.contract-total .contract-item-label,
.contract-total .contract-item-value {
  color: white;
  font-weight: 700;
  padding: 18px 24px;
  font-size: 16px;
  letter-spacing: 0.5px;
}

.contract-total .contract-item-label {
  font-family: var(--font-display);
  text-transform: uppercase;
}

.contract-total .contract-item-value {
  font-family: var(--font-mono);
}

.contract-footer {
  margin-top: var(--spacing-xl);
  padding-top: var(--spacing-lg);
  border-top: 2px solid #e5e7eb;
  font-size: 11px;
  line-height: 1.6;
  font-family: var(--font-body);
  color: #6b7280;
}

.contract-footer p {
  margin: var(--spacing-sm) 0;
}

.contract-disclaimer {
  margin-top: var(--spacing-md);
  padding: var(--spacing-sm);
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid #dc2626;
  border-radius: 4px;
  font-style: italic;
  text-align: center;
}

.contract-actions {
  display: flex;
  justify-content: space-between;
  gap: var(--spacing-md);
  padding: var(--spacing-lg);
  border-top: 1px solid #e5e7eb;
  background: #f9fafb;
}

.contract-actions .btn {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-xs);
}

/* Print Styles */
@media print {
  body * {
    visibility: hidden;
  }

  .contract-document,
  .contract-document * {
    visibility: visible;
  }

  .contract-document {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    padding: 20px;
  }

  .modal-close,
  .contract-actions {
    display: none !important;
  }

  .contract-section {
    page-break-inside: avoid;
  }

  .contract-til-box {
    page-break-inside: avoid;
  }

  @page {
    margin: 0.5in;
  }
}

@media (max-width: 768px) {
  .contract-til-grid {
    grid-template-columns: 1fr;
  }

  .contract-document {
    padding: var(--spacing-lg);
  }

  .contract-actions {
    flex-direction: column;
  }
}

/* Lender Info in Payment Hero */
.quick-summary-hero__lender {
  margin-top: var(--spacing-xs);
  padding-top: var(--spacing-xs);
  border-top: 1px solid rgba(255, 255, 255, 0.2);
  font-size: 12px;
  opacity: 0.85;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  gap: 0;
  flex-wrap: wrap;
}

.quick-summary-hero__lender #quickLenderName {
  font-size: 0.875rem;
  font-weight: 600;
}

.quick-summary-hero__lender-separator {
  opacity: 0.5;
  margin: 0 4px;
  font-size: 0.75rem;
}

.quick-summary-hero__lender-date {
  font-size: 0.7rem;
  opacity: 0.65;
  font-style: italic;
  color: rgba(255, 255, 255, 0.8);
}

.quick-summary-hero__custom-apr-badge {
  margin-top: var(--spacing-xs);
  padding: 6px 12px;
  background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
  border-radius: 16px;
  font-size: 11px;
  font-weight: 700;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  box-shadow: 0 2px 8px rgba(245, 158, 11, 0.3);
  animation: customAprPulse 2s ease-in-out infinite;
}

@keyframes customAprPulse {
  0%,
  100% {
    box-shadow: 0 2px 8px rgba(245, 158, 11, 0.3);
  }
  50% {
    box-shadow: 0 2px 12px rgba(245, 158, 11, 0.5);
  }
}

/* Slider Row Hover Ribbon */
.quick-adjustment {
  position: relative;
}

.quick-adjustment__hover-ribbon {
  /* Ribbon removed - tooltip now shows payment delta */
  display: none !important;
}

.quick-adjustment__hover-ribbon::after {
  content: "";
  position: absolute;
  bottom: -5px;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border-left: 6px solid transparent;
  border-right: 6px solid transparent;
  border-top: 6px solid var(--primary-end);
}

/* Ribbon visibility is now controlled by JavaScript for better control
   (only one ribbon visible at a time) */

.quick-adjustment__hover-ribbon--increase {
  background: linear-gradient(135deg, #dc2626, #b91c1c);
}

.quick-adjustment__hover-ribbon--increase::after {
  border-top-color: #b91c1c;
}

.quick-adjustment__hover-ribbon--decrease {
  background: linear-gradient(135deg, #059669, #047857);
}

.quick-adjustment__hover-ribbon--decrease::after {
  border-top-color: #047857;
}

/* ============================================================================
   App Header & Customer Profile
   ============================================================================ */

/* App Header */
.app-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 60px;
  background: #ffffff;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  display: flex;
  align-items: center;
  justify-content: flex-end;
  padding: 0 24px;
  z-index: 300;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.app-header__actions {
  display: flex;
  align-items: center;
  gap: 12px;
}

/* Sign In Button */
.sign-in-btn {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 16px;
  background: var(--primary-end);
  color: #ffffff;
  border: none;
  border-radius: 24px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
}

.sign-in-btn:hover {
  background: var(--primary-start);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
}

.sign-in-btn:active {
  transform: translateY(0);
  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
}

.sign-in-btn svg {
  width: 20px;
  height: 20px;
}

/* Profile Dropdown */
.profile-dropdown {
  position: relative;
  z-index: 202;
}

.profile-dropdown__trigger {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 16px;
  background: #ffffff;
  color: var(--text-primary);
  border: 2px solid var(--primary-end);
  border-radius: 24px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.15);
}

.profile-dropdown__trigger:hover {
  background: rgba(59, 130, 246, 0.05);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);
}

.profile-dropdown__trigger:active,
.profile-dropdown__trigger.active {
  background: rgba(59, 130, 246, 0.1);
  transform: translateY(0);
}

.profile-dropdown__icon {
  width: 20px;
  height: 20px;
  color: var(--primary-end);
}

.profile-dropdown__label {
  font-family: "Montserrat", sans-serif;
  color: var(--text-primary);
}

.profile-dropdown__chevron {
  transition: transform 0.2s ease;
  color: var(--text-secondary);
}

.profile-dropdown__trigger.active .profile-dropdown__chevron {
  transform: rotate(180deg);
}

.profile-dropdown__menu {
  position: absolute;
  top: calc(100% + 8px);
  right: 0;
  min-width: 200px;
  background: #ffffff;
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  padding: 8px 0;
  z-index: 203;
  animation: dropdownFadeIn 0.2s ease;
}

@keyframes dropdownFadeIn {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.profile-dropdown__item {
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
  padding: 12px 16px;
  background: transparent;
  border: none;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  color: var(--text-primary);
  transition: all 0.15s ease;
  text-align: left;
}

.profile-dropdown__item:hover {
  background: rgba(59, 130, 246, 0.08);
}

.profile-dropdown__item svg {
  flex-shrink: 0;
  color: var(--text-secondary);
}

.profile-dropdown__item:hover svg {
  color: var(--primary-end);
}

.profile-dropdown__item--danger {
  color: #ef4444;
}

.profile-dropdown__item--danger svg {
  color: #ef4444;
}

.profile-dropdown__item--danger:hover {
  background: rgba(239, 68, 68, 0.08);
}

.profile-dropdown__divider {
  height: 1px;
  background: rgba(0, 0, 0, 0.06);
  margin: 4px 0;
}

/* Adjust body padding to account for fixed header */
body {
  padding-top: 60px;
}

/* ============================================================================
   My Saved Vehicles Modal
   ============================================================================ */

.saved-vehicles-edit-list {
  display: flex;
  flex-direction: column;
  gap: 16px;
  max-height: 500px;
  overflow-y: auto;
  padding: 4px;
}

.saved-vehicle-card {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 16px;
  padding: 20px;
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 12px;
  transition: all 0.2s ease;
}

.saved-vehicle-card:hover {
  border-color: var(--primary);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.1);
  transform: translateY(-2px);
}

.saved-vehicle-info {
  flex: 1;
  min-width: 0;
}

.saved-vehicle-title {
  font-family: "Poppins", sans-serif;
  font-size: 18px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 12px;
}

.saved-vehicle-details {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-bottom: 8px;
}

.detail-item {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 13px;
  color: var(--text-secondary);
  padding: 4px 10px;
  background: rgba(0, 0, 0, 0.04);
  border-radius: 6px;
}

.saved-vehicle-values {
  display: flex;
  gap: 16px;
  margin-top: 8px;
}

.value-item {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-primary);
}

.saved-vehicle-notes {
  margin-top: 12px;
  font-size: 13px;
  color: var(--text-secondary);
  font-style: italic;
  padding: 8px 12px;
  background: rgba(59, 130, 246, 0.05);
  border-left: 3px solid var(--primary);
  border-radius: 4px;
}

.saved-vehicle-actions {
  display: flex;
  flex-direction: row;
  gap: 8px;
  flex-shrink: 0;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.2s ease, visibility 0.2s ease;
}

.saved-vehicle-card:hover .saved-vehicle-actions {
  opacity: 1;
  visibility: visible;
}

/* Icon-only action buttons */
.saved-vehicle-action-icon {
  position: relative;
  width: 36px;
  height: 36px;
  padding: 0;
  border: none;
  border-radius: 8px;
  background: rgba(0, 0, 0, 0.05);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
}

.saved-vehicle-action-icon:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

.saved-vehicle-action-icon svg {
  flex-shrink: 0;
}

/* Specific icon colors */
.saved-vehicle-action-select {
  background: rgba(16, 185, 129, 0.1);
  color: rgb(16, 185, 129);
}

.saved-vehicle-action-select:hover {
  background: rgb(16, 185, 129);
  color: white;
}

.saved-vehicle-action-edit {
  background: rgba(100, 116, 139, 0.1);
  color: rgb(100, 116, 139);
}

.saved-vehicle-action-edit:hover {
  background: rgb(100, 116, 139);
  color: white;
}

.saved-vehicle-action-garage {
  background: rgba(59, 130, 246, 0.1);
  color: rgb(59, 130, 246);
}

.saved-vehicle-action-garage:hover {
  background: rgb(59, 130, 246);
  color: white;
}

.saved-vehicle-action-remove {
  background: rgba(239, 68, 68, 0.1);
  color: rgb(239, 68, 68);
}

.saved-vehicle-action-remove:hover {
  background: rgb(239, 68, 68);
  color: white;
}

/* Tooltips for action icons */
.saved-vehicle-action-icon::after {
  content: attr(data-tooltip);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%) translateY(-8px);
  background: rgba(0, 0, 0, 0.9);
  color: white;
  padding: 6px 12px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 500;
  white-space: nowrap;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.2s ease, visibility 0.2s ease, transform 0.2s ease;
  pointer-events: none;
  z-index: 400;
}

.saved-vehicle-action-icon::before {
  content: '';
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%) translateY(-2px);
  border: 5px solid transparent;
  border-top-color: rgba(0, 0, 0, 0.9);
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.2s ease, visibility 0.2s ease;
  pointer-events: none;
  z-index: 400;
}

.saved-vehicle-action-icon:hover::after,
.saved-vehicle-action-icon:hover::before {
  opacity: 1;
  visibility: visible;
  transform: translateX(-50%) translateY(0);
}

.btn-sm {
  padding: 8px 16px;
  font-size: 13px;
  font-weight: 500;
  white-space: nowrap;
  display: flex;
  align-items: center;
  gap: 6px;
}

.btn-sm svg {
  width: 16px;
  height: 16px;
}

/* Form sections in edit modal */
.form-section {
  margin-bottom: 24px;
  padding-bottom: 24px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
}

.form-section:last-child {
  border-bottom: none;
  padding-bottom: 0;
  margin-bottom: 0;
}

.form-section h3 {
  font-family: "Poppins", sans-serif;
  font-size: 16px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 16px;
}

.form-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
  margin-bottom: 16px;
}

.form-row:last-child {
  margin-bottom: 0;
}

.form-group {
  display: flex;
  flex-direction: column;
}

.form-group label {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 6px;
}

.form-group input,
.form-group select,
.form-group textarea {
  padding: 10px 12px;
  font-size: 14px;
  border: 1px solid rgba(0, 0, 0, 0.2);
  border-radius: 8px;
  transition: all 0.2s ease;
  font-family: "Inter", sans-serif;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.form-group textarea {
  resize: vertical;
  min-height: 80px;
}

/* Responsive adjustments */
@media (max-width: 640px) {
  .saved-vehicle-card {
    flex-direction: column;
  }

  .saved-vehicle-actions {
    flex-direction: row;
    width: 100%;
  }

  .saved-vehicle-actions button {
    flex: 1;
  }

  .form-row {
    grid-template-columns: 1fr;
  }
}

/* Compact Saved Vehicles Modal - Tight spacing for mobile/desktop */

.edit-vehicle-modal {
  max-width: 700px;
  max-height: 90vh;
  overflow-y: auto;
  font-family: "Roboto", -apple-system, BlinkMacSystemFont, sans-serif;
}

.edit-vehicle-modal .garage-header {
  padding: 16px 20px 12px;
  text-align: left;
}

.edit-vehicle-modal .garage-title {
  font-family: "Roboto", sans-serif;
  font-size: 20px;
  font-weight: 600;
  margin: 0 0 4px;
  line-height: 1.2;
  letter-spacing: -0.02em;
}

.edit-vehicle-modal .garage-subtitle {
  font-size: 13px;
  margin: 0;
  line-height: 1.3;
}

.edit-vehicle-modal .garage-body {
  padding: 16px 20px;
}

.edit-vehicle-modal .form-section {
  margin-bottom: 16px;
  padding-bottom: 16px;
}

.edit-vehicle-modal .form-section h3 {
  font-family: "Roboto", sans-serif;
  font-size: 14px;
  font-weight: 600;
  margin: 0 0 10px;
  text-transform: uppercase;
  letter-spacing: 0.03em;
  color: var(--text-secondary);
}

.edit-vehicle-modal .form-row {
  gap: 12px;
  margin-bottom: 12px;
}

.edit-vehicle-modal .form-group label {
  font-family: "Roboto", sans-serif;
  font-size: 12px;
  font-weight: 500;
  margin-bottom: 4px;
  line-height: 1.3;
}

.edit-vehicle-modal .form-group input,
.edit-vehicle-modal .form-group select,
.edit-vehicle-modal .form-group textarea {
  font-family: "Roboto", sans-serif;
  padding: 8px 10px;
  font-size: 13px;
  line-height: 1.4;
  border-radius: 6px;
}

.edit-vehicle-modal .garage-form-actions {
  margin-top: 16px;
  padding-top: 16px;
  gap: 10px;
}

.edit-vehicle-modal .btn {
  padding: 9px 16px;
  font-size: 13px;
  font-weight: 500;
  font-family: "Roboto", sans-serif;
  letter-spacing: 0.01em;
}

/* Compact vehicle cards in saved vehicles list */
.saved-vehicle-card {
  font-family: "Roboto", sans-serif;
  padding: 12px;
  margin-bottom: 10px;
  border-radius: 12px;
}

.saved-vehicle-title {
  font-family: "Roboto", sans-serif;
  font-size: 15px;
  font-weight: 600;
  line-height: 1.3;
  letter-spacing: -0.01em;
}

.saved-vehicle-details {
  font-size: 12px;
  line-height: 1.4;
  margin-top: 6px;
  gap: 8px;
}

.saved-vehicle-price {
  margin-top: 6px;
}

.saved-vehicle-dealer {
  font-size: 12px;
  margin-top: 6px;
  line-height: 1.3;
}

/* Mobile/compact responsive styles for action icons */
@media (max-width: 768px) {
  .saved-vehicle-actions {
    /* Show by default on mobile */
    opacity: 1;
    visibility: visible;
    flex-wrap: wrap;
    gap: 6px;
    margin-top: 10px;
  }

  .saved-vehicle-action-icon {
    width: 32px;
    height: 32px;
  }

  .saved-vehicle-action-icon svg {
    width: 18px;
    height: 18px;
  }
}

/* My Saved Vehicles Modal */
#my-saved-vehicles-modal .garage-header {
  padding: 16px 20px 12px;
}

#my-saved-vehicles-modal .garage-title {
  font-family: "Roboto", sans-serif;
  font-size: 20px;
  font-weight: 600;
  line-height: 1.2;
  letter-spacing: -0.02em;
}

#my-saved-vehicles-modal .garage-subtitle {
  font-size: 13px;
  line-height: 1.3;
}

#my-saved-vehicles-modal .garage-body {
  padding: 16px 20px;
}

/* Mobile optimizations - Even tighter spacing */
@media (max-width: 640px) {
  .edit-vehicle-modal .garage-header {
    padding: 12px 16px 10px;
  }

  .edit-vehicle-modal .garage-title {
    font-size: 18px;
  }

  .edit-vehicle-modal .garage-subtitle {
    font-size: 12px;
  }

  .edit-vehicle-modal .garage-body {
    padding: 12px 16px;
  }

  .edit-vehicle-modal .form-section {
    margin-bottom: 12px;
    padding-bottom: 12px;
  }

  .edit-vehicle-modal .form-section h3 {
    font-size: 13px;
    margin: 0 0 8px;
  }

  .edit-vehicle-modal .form-row {
    gap: 10px;
    margin-bottom: 10px;
    grid-template-columns: 1fr;
  }

  .edit-vehicle-modal .form-group label {
    font-size: 11px;
    margin-bottom: 3px;
  }

  .edit-vehicle-modal .form-group input,
  .edit-vehicle-modal .form-group select {
    padding: 7px 9px;
    font-size: 13px;
  }

  .edit-vehicle-modal .garage-form-actions {
    margin-top: 12px;
    padding-top: 12px;
    gap: 8px;
  }

  .edit-vehicle-modal .btn {
    padding: 8px 14px;
    font-size: 12px;
  }

  #my-saved-vehicles-modal .garage-header {
    padding: 12px 16px 10px;
  }

  #my-saved-vehicles-modal .garage-body {
    padding: 12px 16px;
  }

  .saved-vehicle-card {
    padding: 10px;
    margin-bottom: 8px;
  }

  .saved-vehicle-title {
    font-size: 14px;
  }

  .saved-vehicle-details,
  .saved-vehicle-dealer {
    font-size: 11px;
  }

  .saved-vehicle-actions .btn-sm {
    padding: 5px 8px;
    font-size: 11px;
  }

  .saved-vehicle-actions {
    flex-direction: column;
  }

  .saved-vehicle-actions .btn-sm {
    flex: 1 1 100%;
  }
}

/* Customer Profile Modal */
.customer-profile-modal {
  max-width: 600px;
  max-height: 90vh;
  overflow-y: auto;
}

/* Subtle entrance animation for the profile modal */
#customer-profile-modal.active .modal-content {
  animation: profileModalFadeIn 0.25s ease;
}

@keyframes profileModalFadeIn {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.customer-profile-header {
  text-align: center;
  padding: 32px 32px 24px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
}

.customer-profile-icon {
  width: 64px;
  height: 64px;
  margin: 0 auto 16px;
  padding: 12px;
  background: linear-gradient(135deg, var(--primary), var(--primary-end));
  border-radius: 50%;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
}

.customer-profile-icon svg {
  width: 40px;
  height: 40px;
}

.customer-profile-title {
  font-family: "Poppins", sans-serif;
  font-size: 24px;
  font-weight: 700;
  margin: 0 0 8px;
  color: var(--text-primary);
}

.customer-profile-subtitle {
  font-size: 14px;
  color: var(--text-secondary);
  margin: 0;
}

.customer-profile-body {
  padding: 24px 32px;
}

.profile-section {
  margin-bottom: 32px;
}

.profile-section:last-child {
  margin-bottom: 0;
}

.profile-section-title {
  font-family: "Montserrat", sans-serif;
  font-size: 16px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 16px;
  padding-bottom: 8px;
  border-bottom: 2px solid var(--primary);
}

.form-row {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr;
  gap: 12px;
}

.form-hint {
  display: block;
  font-size: 12px;
  color: var(--text-secondary);
  margin-top: 4px;
  font-style: italic;
}

.customer-profile-footer {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 12px;
  padding: 20px 32px;
  border-top: 1px solid rgba(0, 0, 0, 0.06);
  background: rgba(0, 0, 0, 0.02);
}

.customer-profile-footer .btn {
  min-width: 120px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.customer-profile-footer .btn svg {
  width: 16px;
  height: 16px;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .app-header {
    padding: 0 16px;
  }

  .profile-dropdown__label {
    display: none;
  }

  .customer-profile-modal {
    max-width: 95%;
  }

  .customer-profile-header,
  .customer-profile-body,
  .customer-profile-footer {
    padding-left: 20px;
    padding-right: 20px;
  }

  .form-row {
    grid-template-columns: 1fr;
  }
}

/* ============================================================================
   My Garage Modal
   ============================================================================ */

.my-garage-modal {
  max-width: 700px;
  max-height: 90vh;
  overflow-y: auto;
}

.edit-vehicle-modal {
  max-width: 600px;
  width: 90%;
  max-height: calc(100vh - 40px);
  overflow-y: auto;
  margin: auto;
}

.garage-header {
  text-align: center;
  padding: 32px 32px 24px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
}

.garage-icon {
  width: 64px;
  height: 64px;
  margin: 0 auto 16px;
  padding: 12px;
  background: linear-gradient(135deg, #3b82f6, #2563eb);
  border-radius: 50%;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
}

.garage-icon svg {
  width: 40px;
  height: 40px;
}

/* All VIN fields and displays use monospace font for better readability */
#garageVin,
#quick-vin,
#editVin,
#edit-vehicle-vin,
#contractVIN,
#reviewHeroVin,
input[id*="vin" i],
input[name*="vin" i],
.contract-vin,
.vin-display,
.vehicle-vin {
  font-family: "IBM Plex Mono", "Courier New", monospace !important;
  letter-spacing: 0.5px;
  text-transform: uppercase;
}

/* VIN display styling - no label needed, visually distinct */
.vin-display,
.vehicle-vin,
.vehicle-card__vin,
.saved-vehicle-item__vin,
.your-vehicle-card__meta .vin-display {
  display: inline-block;
  border-radius: 4px;
  font-size: 11px;
  color: var(--text-secondary);
}

.detail-item.vin-display {
  font-size: 11px;
  padding: 2px 6px;
}

/* Contract VIN styling */
.contract-vin {
  display: block !important;
  padding: 4px 8px !important;
  margin-top: 4px;
}

.garage-title {
  font-family: "Poppins", sans-serif;
  font-size: 24px;
  font-weight: 700;
  margin: 0 0 8px;
  color: var(--text-primary);
}

.garage-subtitle {
  font-size: 14px;
  color: var(--text-secondary);
  margin: 0;
}

.garage-body {
  padding: 24px 32px;
}

.garage-tradein-info {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  background: rgba(59, 130, 246, 0.08);
  border: 1px solid rgba(59, 130, 246, 0.2);
  border-radius: 8px;
  margin-bottom: 20px;
  font-size: 14px;
  color: var(--text-primary);
}

.garage-tradein-info svg {
  flex-shrink: 0;
  color: var(--primary);
}

.garage-vehicle-list {
  margin-bottom: 20px;
  max-height: 400px;
  overflow-y: auto;
}

.garage-empty-state {
  text-align: center;
  padding: 48px 24px;
  color: var(--text-secondary);
}

.garage-empty-state p {
  font-size: 16px;
  font-weight: 600;
  margin: 0 0 8px;
}

.garage-empty-state small {
  font-size: 14px;
}

.garage-vehicle-card {
  background: var(--ios-surface-elevated);
  border: 1px solid var(--ios-hairline);
  border-radius: 16px;
  padding: 16px;
  margin-bottom: 12px;
  transition: all 0.2s ease;
  box-shadow: var(--ios-shadow);
  backdrop-filter: var(--ios-blur);
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", Inter,
    system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

.garage-vehicle-card:hover {
  transform: translateY(-2px);
  border-color: var(--ios-hairline-strong);
  box-shadow: var(--ios-shadow-hover);
}

.garage-vehicle-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
  padding-bottom: 12px;
  border-bottom: 1px solid var(--ios-hairline);
}

.garage-vehicle-checkbox {
  display: flex;
  align-items: center;
  gap: 8px;
}

.garage-vehicle-checkbox input[type="checkbox"] {
  width: 18px;
  height: 18px;
  cursor: pointer;
  accent-color: var(--primary);
}

.garage-vehicle-checkbox label {
  font-size: 14px;
  font-weight: 600;
  color: var(--primary);
  cursor: pointer;
  margin: 0;
}

.garage-vehicle-actions {
  display: flex;
  gap: 8px;
}

.garage-action-btn {
  padding: 8px;
  background: var(--ios-surface);
  border: 1px solid var(--ios-hairline);
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.2s ease;
  color: var(--text-secondary);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.06);
}

.garage-action-btn:hover {
  background: rgba(0, 0, 0, 0.04);
  border-color: var(--ios-hairline-strong);
  color: var(--primary);
}

.garage-action-btn--danger:hover {
  background: rgba(239, 68, 68, 0.1);
  border-color: #ef4444;
  color: #ef4444;
}

.garage-vehicle-info {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.garage-vehicle-title {
  font-size: 16px;
  font-weight: 700;
  color: var(--text-primary);
  margin: 0;
}

/* Title row for garage vehicles with price */
.garage-vehicle-title-row {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 12px;
  margin-bottom: 4px;
}

.garage-vehicle-details {
  font-size: 14px;
  color: var(--text-secondary);
  margin: 0;
}

.garage-vehicle-vin {
  font-family: var(--font-mono);
  font-size: 12px;
  color: var(--text-secondary);
  margin: 4px 0 8px 0;
  letter-spacing: 0.5px;
  opacity: 0.8;
}

.garage-vehicle-meta {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.garage-badge {
  display: inline-block;
  padding: 4px 10px;
  background: var(--ios-pill);
  color: var(--primary);
  border: 1px solid var(--ios-hairline);
  border-radius: 999px;
  font-size: 12px;
  font-weight: 600;
}

/* === Vehicle Price Styling === */
.vehicle-price {
  font-weight: 700;
  /* Default: hero blue gradient for general contexts */
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-size: 1rem;
  display: inline-block;
  white-space: nowrap;
  flex-shrink: 0;
}

.vehicle-price--empty {
  background: none;
  -webkit-background-clip: unset;
  -webkit-text-fill-color: unset;
  background-clip: unset;
  color: #4794ff;
  font-weight: 500;
  font-size: 0.875rem;
}

/* Reset condition color to neutral gray */
.vehicle-condition {
  display: inline-block;
  padding: 4px 10px;
  background: rgba(148, 163, 184, 0.1);
  color: #64748b;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 500;
}

.garage-vehicle-financial {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  padding-top: 12px;
  border-top: 1px solid rgba(0, 0, 0, 0.06);
}

.garage-financial-item {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.garage-financial-label {
  font-size: 12px;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.garage-financial-value {
  font-size: 16px;
  font-weight: 700;
  color: var(--text-primary);
}

.garage-vehicle-card__header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 12px;
}

.garage-vehicle-card__info h4 {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 4px;
}

.garage-vehicle-card__info p {
  font-size: 14px;
  color: var(--text-secondary);
  margin: 0;
}

.garage-vehicle-card__actions {
  display: flex;
  gap: 8px;
}

.garage-vehicle-card__actions button {
  padding: 6px 12px;
  font-size: 13px;
  border-radius: 6px;
  border: none;
  cursor: pointer;
  transition: all 0.2s ease;
}

.garage-vehicle-card__actions .btn-edit {
  background: rgba(59, 130, 246, 0.1);
  color: var(--primary-end);
}

.garage-vehicle-card__actions .btn-edit:hover {
  background: rgba(59, 130, 246, 0.2);
}

.garage-vehicle-card__actions .btn-delete {
  background: rgba(239, 68, 68, 0.1);
  color: #ef4444;
}

.garage-vehicle-card__actions .btn-delete:hover {
  background: rgba(239, 68, 68, 0.2);
}

.garage-vehicle-card__details {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 8px;
  padding-top: 12px;
  border-top: 1px solid rgba(0, 0, 0, 0.06);
}

.garage-vehicle-card__detail {
  display: flex;
  justify-content: space-between;
  font-size: 13px;
}

.garage-vehicle-card__detail-label {
  color: var(--text-secondary);
}

.garage-vehicle-card__detail-value {
  font-weight: 600;
  color: var(--text-primary);
}

.garage-add-btn {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  margin-bottom: 20px;
}

.garage-vehicle-form {
  background: rgba(59, 130, 246, 0.03);
  border: 1px solid rgba(59, 130, 246, 0.1);
  border-radius: 12px;
  padding: 24px;
  margin-top: 20px;
}

.garage-form-title {
  font-family: "Montserrat", sans-serif;
  font-size: 18px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 20px;
}

.garage-form-actions {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  margin-top: 20px;
}

.garage-form-actions .btn {
  min-width: 120px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

/* ============================================================================
   Duplicate Vehicle Modal
   ============================================================================ */

.duplicate-vehicle-modal {
  max-width: 800px;
  max-height: 90vh;
  overflow-y: auto;
}

.duplicate-vehicle-header {
  text-align: center;
  padding: 32px 32px 24px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
}

.duplicate-vehicle-title {
  font-family: "Poppins", sans-serif;
  font-size: 24px;
  font-weight: 700;
  margin: 0 0 8px;
  color: var(--text-primary);
}

.duplicate-vehicle-subtitle {
  font-size: 14px;
  color: var(--text-secondary);
  margin: 0;
}

.duplicate-vehicle-body {
  padding: 24px 32px;
}

.duplicate-vehicle-comparison {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  gap: 24px;
}

.duplicate-vehicle-column {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.duplicate-column-title {
  font-family: "Montserrat", sans-serif;
  font-size: 16px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 8px;
  padding-bottom: 8px;
  border-bottom: 2px solid var(--primary);
}

.duplicate-vehicle-details {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.duplicate-detail-row {
  display: flex;
  justify-content: space-between;
  padding: 8px;
  border-radius: 6px;
  background: rgba(0, 0, 0, 0.02);
}

.duplicate-detail-row.changed {
  background: rgba(59, 130, 246, 0.1);
  border-left: 3px solid var(--primary);
}

.duplicate-detail-label {
  font-size: 13px;
  color: var(--text-secondary);
  font-weight: 500;
}

.duplicate-detail-value {
  font-size: 13px;
  color: var(--text-primary);
  font-weight: 600;
}

.duplicate-vehicle-divider {
  width: 1px;
  background: rgba(0, 0, 0, 0.1);
}

.duplicate-vehicle-actions {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 12px;
  padding: 20px 32px;
  border-top: 1px solid rgba(0, 0, 0, 0.06);
  background: rgba(0, 0, 0, 0.02);
}

.duplicate-vehicle-actions .btn {
  min-width: 140px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

/* ============================================================================
   My Offers Modal
   ============================================================================ */

.my-offers-modal {
  max-width: 800px;
  max-height: 90vh;
  overflow-y: auto;
}

.offers-header {
  text-align: center;
  padding: 32px 32px 24px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
}

.offers-icon {
  width: 80px;
  height: 80px;
  margin: 0 auto 16px;
  padding: 16px;
  background: linear-gradient(135deg, #3b82f6, #2563eb);
  border-radius: 50%;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
}

.offers-title {
  font-family: "Poppins", sans-serif;
  font-size: 28px;
  font-weight: 700;
  margin: 0 0 8px;
  color: var(--text-primary);
}

.offers-subtitle {
  font-size: 14px;
  color: var(--text-secondary);
  margin: 0;
}

/* Sending Progress Indicator */
.offer-send-progress {
  padding: 1rem 2rem;
  margin: 0;
  background: #f8f9fa;
  border-bottom: 1px solid #e2e8f0;
  animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.progress-messages {
  margin-bottom: 0.75rem;
}

.progress-message {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem;
  font-size: 14px;
  color: #475569;
  animation: fadeIn 0.3s ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.progress-icon {
  font-size: 18px;
}

.progress-bar-container {
  height: 6px;
  background: #e2e8f0;
  border-radius: 3px;
  overflow: hidden;
}

.progress-bar-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--primary-start), var(--primary-end));
  border-radius: 3px;
  transition: width 0.3s ease;
  width: 0%;
}

.offers-body {
  padding: 24px 32px;
}

/* Offers Tabs */
.offers-tabs {
  display: flex;
  gap: 8px;
  margin-bottom: 24px;
  border-bottom: 2px solid #e5e7eb;
}

.offers-tab {
  flex: 1;
  padding: 12px 16px;
  background: none;
  border: none;
  border-bottom: 3px solid transparent;
  font-family: "Montserrat", sans-serif;
  font-size: 14px;
  font-weight: 600;
  color: var(--text-secondary);
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  margin-bottom: -2px;
}

.offers-tab:hover {
  color: var(--text-primary);
  background: rgba(0, 0, 0, 0.02);
}

.offers-tab.active {
  color: var(--primary);
  border-bottom-color: var(--primary);
}

.offers-tab-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 20px;
  height: 20px;
  padding: 0 6px;
  background: rgba(59, 130, 246, 0.1);
  color: var(--primary);
  border-radius: 10px;
  font-size: 12px;
  font-weight: 700;
}

.offers-tab.active .offers-tab-badge {
  background: var(--primary);
  color: white;
}

/* Offers List */
.offers-list {
  min-height: 300px;
}

.offers-empty {
  text-align: center;
  padding: 60px 20px;
  color: var(--text-secondary);
}

.offers-empty svg {
  margin: 0 auto 16px;
  opacity: 0.3;
}

.offers-empty p {
  font-size: 16px;
  font-weight: 600;
  margin: 0 0 4px;
  color: var(--text-primary);
}

.offers-empty small {
  font-size: 14px;
  color: var(--text-secondary);
}

/* Offer Card */
.offer-card {
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 16px;
  transition: all 0.2s ease;
}

.offer-card:hover {
  border-color: var(--primary);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.offer-card.closed {
  opacity: 0.6;
  background: #f9fafb;
}

.offer-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 16px;
}

.offer-card-title {
  font-family: "Poppins", sans-serif;
  font-size: 16px;
  font-weight: 700;
  color: var(--text-primary);
  margin: 0 0 4px;
}

.offer-card-subtitle {
  font-size: 13px;
  color: var(--text-secondary);
  margin: 0;
}

.offer-card-status {
  display: inline-flex;
  align-items: center;
  padding: 4px 12px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 600;
}

.offer-card-status.active {
  background: #dbeafe;
  color: #1e40af;
}

.offer-card-status.closed {
  background: #f3f4f6;
  color: #6b7280;
}

.offer-card-details {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
  margin-bottom: 16px;
}

.offer-card-detail {
  display: flex;
  flex-direction: column;
}

.offer-card-detail-label {
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  color: var(--text-secondary);
  margin-bottom: 4px;
}

.offer-card-detail-value {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-primary);
}

.offer-card-actions {
  display: flex;
  gap: 8px;
  padding-top: 16px;
  border-top: 1px solid #e5e7eb;
}

.offer-card-btn {
  flex: 1;
  padding: 8px 16px;
  border: 1px solid #e5e7eb;
  border-radius: 6px;
  background: white;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
}

.offer-card-btn:hover {
  background: #f9fafb;
  border-color: var(--primary);
  color: var(--primary);
}

.offer-card-btn.danger {
  color: #dc2626;
}

.offer-card-btn.danger:hover {
  background: #fef2f2;
  border-color: #dc2626;
}

.offer-card-btn svg {
  width: 16px;
  height: 16px;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .my-garage-modal {
    max-width: 95%;
  }

  .garage-header,
  .garage-body {
    padding-left: 20px;
    padding-right: 20px;
  }

  .garage-vehicle-card__details {
    grid-template-columns: 1fr;
  }

  .duplicate-vehicle-modal {
    max-width: 95%;
  }

  .duplicate-vehicle-comparison {
    grid-template-columns: 1fr;
    gap: 16px;
  }

  .duplicate-vehicle-divider {
    display: none;
  }

  .duplicate-vehicle-actions {
    flex-direction: column;
  }

  .duplicate-vehicle-actions .btn {
    width: 100%;
  }
}

/* ============================================================================
   Submit Offer Modal
   ============================================================================ */

.submit-offer-modal {
  max-width: 700px;
  max-height: 90vh;
  overflow-y: auto;
}

.submit-offer-header {
  text-align: center;
  padding: 32px 32px 24px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
}

.submit-offer-icon {
  width: 64px;
  height: 64px;
  margin: 0 auto 16px;
  padding: 12px;
  background: linear-gradient(135deg, #10b981, #059669);
  border-radius: 50%;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
}

.submit-offer-icon svg {
  width: 40px;
  height: 40px;
}

.submit-offer-title {
  font-family: "Poppins", sans-serif;
  font-size: 24px;
  font-weight: 700;
  margin: 0 0 8px;
  color: var(--text-primary);
}

.submit-offer-subtitle {
  font-size: 14px;
  color: var(--text-secondary);
  margin: 0;
}

.submit-offer-body {
  padding: 24px 32px;
}

/* Customer Offer Price Card */
.customer-offer-price-section {
  margin-bottom: 32px;
}

.customer-offer-price-card {
  background: linear-gradient(135deg, #3b82f6, #2563eb);
  border-radius: 12px;
  padding: 24px;
  text-align: center;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.customer-offer-label {
  font-family: "Montserrat", sans-serif;
  font-size: 14px;
  font-weight: 600;
  color: rgba(255, 255, 255, 0.9);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 8px;
}

.customer-offer-value {
  font-family: "Poppins", sans-serif;
  font-size: 36px;
  font-weight: 700;
  color: white;
  margin-bottom: 8px;
  line-height: 1;
}

.customer-offer-note {
  font-size: 13px;
  color: rgba(255, 255, 255, 0.8);
  font-style: italic;
}

.offer-preview-section {
  margin-bottom: 32px;
}

.section-title {
  font-family: "Montserrat", sans-serif;
  font-size: 16px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 12px;
}

.offer-preview-box {
  background: #f8f9fa;
  border: 1px solid #dee2e6;
  border-radius: 8px;
  padding: 16px;
  max-height: 400px;
  overflow-y: auto;
}

.offer-preview-text {
  display: flex;
  flex-direction: column;
  gap: 16px;
  font-family: "Montserrat", sans-serif;
  font-size: 13px;
  line-height: 1.5;
  margin: 0;
  color: var(--text-primary);
  white-space: normal;
}

.offer-preview-hero {
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  color: white;
  border-radius: 12px;
  padding: 18px 20px;
  text-align: center;
  box-shadow: 0 8px 20px rgba(59, 130, 246, 0.25);
}

.offer-preview-hero-label {
  display: block;
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  opacity: 0.85;
  margin-bottom: 4px;
}

.offer-preview-hero-value {
  display: block;
  font-family: "Poppins", sans-serif;
  font-size: 28px;
  font-weight: 700;
}

.offer-preview-hero-subtitle {
  display: block;
  margin-top: 6px;
  font-size: 14px;
  font-weight: 500;
  opacity: 0.85;
}

.offer-preview-section-title {
  font-size: 12px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-secondary);
  margin: 8px 0 4px;
}

.offer-preview-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 12px;
}

.offer-preview-grid-item {
  background: white;
  border: 1px solid #e2e8f0;
  border-radius: 10px;
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 4px;
  min-height: 70px;
}

.offer-preview-grid-label {
  font-size: 11px;
  font-weight: 600;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.offer-preview-grid-value {
  font-size: 15px;
  font-weight: 600;
  color: var(--text-primary);
}

.offer-preview-error {
  background: #fff5f5;
  border: 1px solid #fecaca;
  border-radius: var(--radius-lg);
  padding: 16px;
  color: #991b1b;
  font-size: 14px;
  line-height: 1.5;
}

.offer-preview-error button {
  margin-top: 12px;
}

.offer-preview-divider {
  height: 1px;
  background: rgba(148, 163, 184, 0.4);
  margin: 8px 0;
}

.form-row-2col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

.form-textarea {
  width: 100%;
  padding: 10px 12px;
  border: 1px solid #dee2e6;
  border-radius: 6px;
  font-size: 14px;
  font-family: inherit;
  resize: vertical;
  transition: border-color 0.2s ease;
}

.form-textarea:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.submit-offer-footer {
  padding: 20px 32px;
  border-top: 1px solid rgba(0, 0, 0, 0.06);
  background: rgba(0, 0, 0, 0.02);
}

.submission-buttons {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
}

.btn-share,
.btn-email,
.btn-sms,
.btn-copy {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 12px 16px;
  border: none;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  font-family: "Montserrat", sans-serif;
  color: white;
}

.btn-share {
  background: linear-gradient(135deg, #667eea, #764ba2);
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
}

.btn-share:hover {
  background: linear-gradient(135deg, #5568d3, #6a3f8f);
  box-shadow: 0 6px 16px rgba(102, 126, 234, 0.4);
  transform: translateY(-2px);
}

.btn-email {
  background: linear-gradient(135deg, #f093fb, #f5576c);
  box-shadow: 0 4px 12px rgba(240, 147, 251, 0.3);
}

.btn-email:hover {
  background: linear-gradient(135deg, #e67df0, #e6415a);
  box-shadow: 0 6px 16px rgba(240, 147, 251, 0.4);
  transform: translateY(-2px);
}

.btn-sms {
  background: linear-gradient(135deg, #4facfe, #00f2fe);
  box-shadow: 0 4px 12px rgba(79, 172, 254, 0.3);
}

.btn-sms:hover {
  background: linear-gradient(135deg, #3899f0, #00ddef);
  box-shadow: 0 6px 16px rgba(79, 172, 254, 0.4);
  transform: translateY(-2px);
}

.btn-copy {
  background: linear-gradient(135deg, #43e97b, #38f9d7);
  box-shadow: 0 4px 12px rgba(67, 233, 123, 0.3);
}

.btn-copy:hover {
  background: linear-gradient(135deg, #32d969, #28e6c5);
  box-shadow: 0 6px 16px rgba(67, 233, 123, 0.4);
  transform: translateY(-2px);
}

.btn-share:active,
.btn-email:active,
.btn-sms:active,
.btn-copy:active {
  transform: translateY(0);
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .submit-offer-modal {
    max-width: 95%;
  }

  .submit-offer-header,
  .submit-offer-body,
  .submit-offer-footer {
    padding-left: 20px;
    padding-right: 20px;
  }

  .form-row-2col {
    grid-template-columns: 1fr;
  }

  .submission-buttons {
    grid-template-columns: 1fr 1fr;
    gap: 10px;
  }

  .btn-share,
  .btn-email,
  .btn-sms,
  .btn-copy {
    font-size: 13px;
    padding: 10px 12px;
  }
}

/* ============================================
   PHASE 1: CENTERED SLIDER STYLING
   ============================================ */

/* Toast Container */
#toast-container {
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 800;
  pointer-events: none;
}

.toast {
  background: white;
  border-radius: 12px;
  padding: 16px 20px;
  margin-bottom: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  display: flex;
  align-items: center;
  min-width: 300px;
  transform: translateX(400px);
  opacity: 0;
  transition: all 0.3s ease;
  pointer-events: auto;
}

.toast.show {
  transform: translateX(0);
  opacity: 1;
}

.toast-content {
  display: flex;
  align-items: center;
  gap: 12px;
}

.toast-icon {
  font-size: 20px;
}

.toast-success {
  border-left: 4px solid #10b981;
}

.toast-error {
  border-left: 4px solid #ef4444;
}

.toast-warning {
  border-left: 4px solid #f59e0b;
}

.toast-info {
  border-left: 4px solid #3b82f6;
}

/* Auto-filled fields animation */
.auto-filled {
  animation: autofill-pulse 1s ease;
}

@keyframes autofill-pulse {
  0% {
    background-color: rgba(59, 130, 246, 0);
  }
  50% {
    background-color: rgba(59, 130, 246, 0.1);
  }
  100% {
    background-color: rgba(59, 130, 246, 0);
  }
}

/* ============================================
   PHASE 1: MODAL FIX - Ensure modals stay hidden
   ============================================ */

/* Force all modals to be hidden by default with !important */
.modal:not(.active) {
  display: none !important;
  opacity: 0 !important;
  pointer-events: none !important;
  visibility: hidden !important;
}

/* Override any conflicting CSS */
#customer-profile-modal:not(.active),
#my-garage-modal:not(.active),
#auth-modal:not(.active) {
  display: none !important;
}

/* ============================================
   PHASE 1: AUTH MANAGER DROPDOWN STYLING
   ============================================ */

/* Profile dropdown container */
.profile-dropdown-container {
  position: relative;
  display: flex;
  align-items: center;
  z-index: 202;
}

/* Profile trigger button (signed in state) */
.profile-trigger {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 8px 16px;
  background: #ffffff;
  color: var(--text-primary);
  border: 2px solid var(--primary-end);
  border-radius: 24px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  transition: all 0.2s ease;
}

.profile-trigger:hover {
  background: rgba(59, 130, 246, 0.05);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);
}

/* Avatar circle */
.avatar-circle {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  padding: 2px;
}

.avatar-inner {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: #ffffff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  color: var(--primary-end);
  font-size: 14px;
}

.user-name {
  font-family: "Montserrat", sans-serif;
  color: var(--text-primary);
  max-width: 120px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.chevron-down {
  transition: transform 0.2s ease;
  color: var(--text-secondary);
}

.profile-trigger.active .chevron-down {
  transform: rotate(180deg);
}

/* Profile dropdown menu */
.profile-menu {
  position: absolute;
  top: calc(100% + 8px);
  right: 0;
  min-width: 280px;
  background: #ffffff;
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  padding: 0;
  z-index: 204;
  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px);
  transition: all 0.2s ease;
  pointer-events: none;
}

.profile-menu.active {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
  pointer-events: auto;
}

/* Profile menu header */
.profile-header {
  padding: 20px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
  display: flex;
  align-items: center;
  gap: 12px;
}

.avatar-large {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  color: #ffffff;
  font-size: 20px;
  flex-shrink: 0;
}

.user-info {
  flex: 1;
  min-width: 0;
}

.user-info h3 {
  margin: 0 0 4px;
  font-family: "Poppins", sans-serif;
  font-size: 16px;
  font-weight: 600;
  color: var(--text-primary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.user-info p {
  margin: 0;
  font-size: 13px;
  color: var(--text-secondary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Profile navigation */
.profile-nav {
  padding: 8px 0;
}

.profile-nav a {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 20px;
  color: var(--text-primary);
  text-decoration: none;
  font-size: 14px;
  font-weight: 500;
  transition: all 0.15s ease;
}

.profile-nav a:hover {
  background: rgba(59, 130, 246, 0.08);
}

.profile-nav a svg {
  flex-shrink: 0;
  color: var(--text-secondary);
}

.profile-nav a:hover svg {
  color: var(--primary-end);
}

.profile-nav .divider {
  height: 1px;
  background: rgba(0, 0, 0, 0.06);
  margin: 4px 0;
  border: none;
}

.profile-nav a[data-action="sign-out"] {
  color: #ef4444;
}

.profile-nav a[data-action="sign-out"] svg {
  color: #ef4444;
}

.profile-nav a[data-action="sign-out"]:hover {
  background: rgba(239, 68, 68, 0.08);
}

/* Auth Modal */
.auth-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 500;
  display: none;
  align-items: center;
  justify-content: center;
}

.auth-modal.active {
  display: flex;
}

.auth-modal .modal-backdrop {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px);
}

.auth-modal .modal-content {
  position: relative;
  width: 90%;
  max-width: 440px;
  background: #ffffff;
  border-radius: 16px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
  overflow: hidden;
  animation: modalSlideUp 0.3s ease;
}

@keyframes modalSlideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.auth-modal .modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 24px 24px 16px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
}

.auth-modal .modal-title {
  font-family: "Poppins", sans-serif;
  font-size: 24px;
  font-weight: 700;
  margin: 0;
  color: var(--text-primary);
}

.auth-modal .modal-close {
  width: 32px;
  height: 32px;
  padding: 0;
  background: none;
  border: none;
  cursor: pointer;
  color: var(--text-secondary);
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  transition: all 0.15s ease;
}

.auth-modal .modal-close:hover {
  background: rgba(0, 0, 0, 0.05);
  color: var(--text-primary);
}

/* Auth tabs */
.auth-tabs {
  display: flex;
  gap: 0;
  padding: 16px 24px 0;
  border-bottom: 2px solid rgba(0, 0, 0, 0.06);
}

.auth-tabs .tab {
  flex: 1;
  padding: 12px 16px;
  background: none;
  border: none;
  border-bottom: 3px solid transparent;
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  color: var(--text-secondary);
  transition: all 0.2s ease;
  margin-bottom: -2px;
}

.auth-tabs .tab:hover {
  color: var(--text-primary);
}

.auth-tabs .tab.active {
  color: var(--primary-end);
  border-bottom-color: var(--primary-end);
}

/* Auth form */
.auth-form {
  padding: 24px;
}

.auth-form .form-group {
  margin-bottom: 20px;
}

.auth-form .form-group label {
  display: block;
  margin-bottom: 8px;
  font-size: 14px;
  font-weight: 600;
  color: var(--text-primary);
}

.auth-form .form-group input {
  width: 100%;
  padding: 12px 16px;
  border: 2px solid rgba(0, 0, 0, 0.1);
  border-radius: 8px;
  font-size: 14px;
  transition: all 0.2s ease;
}

.auth-form .form-group input:focus {
  outline: none;
  border-color: var(--primary-end);
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.auth-form .btn-primary {
  width: 100%;
  padding: 12px 24px;
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  color: #ffffff;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.auth-form .btn-primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
}

.auth-form .btn-primary:active {
  transform: translateY(0);
}

.auth-form .btn-primary:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
}

.auth-form .spinner {
  width: 16px;
  height: 16px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-top-color: #ffffff;
  border-radius: 50%;
  animation: spin 0.6s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

/* Responsive */
@media (max-width: 768px) {
  .profile-dropdown-container {
    margin-left: auto;
  }

  .user-name {
    display: none;
  }

  .profile-menu {
    min-width: 260px;
  }

  .auth-modal .modal-content {
    width: 95%;
    margin: 20px;
  }
}

/* ============================================
   PHASE 1: VEHICLE SELECTOR DROPDOWN
   ============================================ */

.vehicle-selector-dropdown {
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  right: 0;
  background: #ffffff;
  border: 2px solid var(--primary-end);
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  /* Fit within the viewport */
  max-height: calc(100vh - 180px);
  overflow-y: auto;
  z-index: 200;
}

.vehicle-selector-header {
  padding: 12px 16px;
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  color: #ffffff;
  font-weight: 600;
  font-size: 14px;
  border-radius: 10px 10px 0 0;
}

/* Section headers for "In My Garage" and "Saved Vehicles" */
.vehicle-section-header {
  padding: 10px 16px;
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  color: #ffffff;
  font-weight: 600;
  font-size: 13px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.vehicle-section-header:first-child {
  border-radius: 10px 10px 0 0;
}

.vehicle-section-header.with-top-margin {
  margin-top: 8px;
  border-top: 2px solid rgba(0, 0, 0, 0.1);
}

.vehicle-selector-item {
  padding: 8px 12px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
  cursor: pointer;
  transition: all 0.15s ease;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.vehicle-selector-item:last-child {
  border-bottom: none;
}

.vehicle-selector-item:hover {
  background: rgba(59, 130, 246, 0.08);
}

/* Garage vehicles get special styling */
.vehicle-selector-item.garage-vehicle {
  border-left: 3px solid var(--primary-end);
  background: rgba(59, 130, 246, 0.02);
}

.vehicle-selector-item.garage-vehicle:hover {
  background: rgba(59, 130, 246, 0.1);
}

/* Vehicle info container */
.vehicle-info {
  flex: 1;
  cursor: pointer;
}

.vehicle-main-line {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 4px;
  flex-wrap: wrap;
}

.vehicle-main-line strong {
  color: var(--text-primary);
  font-size: 13px;
}

.vehicle-condition {
  display: inline-block;
  padding: 2px 8px;
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  color: white;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  border-radius: 4px;
  letter-spacing: 0.3px;
}

.vehicle-trim {
  color: var(--text-secondary);
  font-size: 13px;
  font-weight: normal;
}

.vehicle-detail-line {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

.vehicle-detail-line span {
  color: var(--text-secondary);
  font-size: 11.5px;
}

/* Remove gradient fill on price inside dropdown; use solid hero blue */
.vehicle-selector-dropdown .vehicle-price {
  background: none;
  -webkit-background-clip: initial;
  -webkit-text-fill-color: initial;
  background-clip: initial;
  color: var(--primary-start);
}

/* Make card header compact within dropdown */
.vehicle-selector-dropdown .vehicle-card .vehicle-header h3 {
  font-size: 14px;
  line-height: 1.2;
  margin: 0;
}

/* VIN typography consistency */
.vin-display,
.vin-value,
#reviewHeroVin,
.contract-vin,
.saved-vehicle-item__vin,
.vehicle-card__vin,
.vehicle-vin {
  font-family: var(--font-mono) !important;
  letter-spacing: 0.05em;
}

/* Legacy classes for backward compatibility */
.vehicle-selector-main {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 4px;
}

.vehicle-selector-main strong {
  color: var(--text-primary);
  font-size: 14px;
}

.vehicle-selector-details {
  display: flex;
  gap: 12px;
}

.vehicle-selector-details small {
  color: var(--text-secondary);
  font-size: 12px;
}

/* Saved vehicle row with "Add to Garage" button */
.saved-vehicle-row {
  cursor: default;
}

.saved-vehicle-row .vehicle-info {
  cursor: pointer;
}

.saved-vehicle-row .btn-add-to-garage {
  flex-shrink: 0;
}

.vehicle-selector-empty {
  padding: 24px;
  text-align: center;
  color: var(--text-secondary);
}

.vehicle-selector-empty p {
  margin: 0 0 4px;
  font-weight: 600;
  color: var(--text-primary);
}

.vehicle-selector-empty small {
  font-size: 12px;
}

/* Position the VIN input container relatively for dropdown */
#quick-vin {
  position: relative;
}

/* ===================================
   VIN STYLING - Factory Font Look
   =================================== */

/* VIN utility class for inputs and labels */
.vin-text,
input[name*="vin" i],
input[id*="vin" i],
input[placeholder*="VIN" i],
input[type="text"][placeholder*="vin" i],
label[for*="vin" i],
.vin-label,
.vin-display {
  font-family: 'IBM Plex Mono', 'Courier New', monospace !important;
  letter-spacing: 0.15em !important;
  text-transform: uppercase !important;
  font-weight: 500 !important;
}

/* VIN input specific styles */
input[name*="vin" i],
input[id*="vin" i],
input[placeholder*="VIN" i],
input[type="text"][placeholder*="vin" i] {
  font-size: 0.95em;
  padding: 0.75rem 1rem;
}

/* VIN label specific styles */
label[for*="vin" i],
.vin-label {
  font-size: 0.85em;
  font-weight: 600 !important;
  letter-spacing: 0.1em !important;
}

/* VIN display text (read-only, cards, etc.) */
.vin-display {
  font-size: 0.9em;
  letter-spacing: 0.12em !important;
  color: var(--text-primary);
}

/* Tailwind utility classes for VIN */
@layer utilities {
  .font-vin {
    font-family: 'IBM Plex Mono', 'Courier New', monospace;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    font-weight: 500;
  }

  .font-vin-compact {
    font-family: 'IBM Plex Mono', 'Courier New', monospace;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    font-weight: 500;
  }
}
